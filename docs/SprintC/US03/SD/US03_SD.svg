<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1384px" preserveAspectRatio="none" style="width:1790px;height:1384px;background:#FFFFFF;" version="1.1" viewBox="0 0 1790 1384" width="1790px" zoomAndPan="magnify"><defs><filter height="300%" id="fiokd6nhkhx7q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="1181.0078" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="540.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="243.3672"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="466.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="814.4531"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="432.6797" style="stroke:#A80036;stroke-width:1.0;" width="10" x="871" y="314.0703"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="405.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="871" y="844.8047"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073" y="404.7734"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="247.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073" y="499.3438"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078" y="718.75"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="375.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073" y="875.1563"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078" y="1154.9141"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1267" y="344.4219"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1267" y="590.0469"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1357" y="529.6953"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1357" y="905.5078"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1357" y="965.8594"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1480" y="1026.2109"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1615" y="1220.2656"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1725.5" y="650.3984"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1725.5" y="1086.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="598.5" x2="598.5" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="875.5" x2="875.5" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1078" x2="1078" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1272" x2="1272" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1362" x2="1362" y1="454.8828" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1485" x2="1485" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1620" x2="1620" y1="89.6094" y2="1298.6172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1730" x2="1730" y1="89.6094" y2="1298.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="86.5332">Receptionist</text><ellipse cx="47" cy="15" fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47,23 L47,50 M34,31 L60,31 M47,50 L34,65 M47,50 L60,65 " fill="none" filter="url(#fiokd6nhkhx7q)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="1312.1504">Receptionist</text><ellipse cx="47" cy="1325.2266" fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47,1333.2266 L47,1360.2266 M34,1341.2266 L60,1341.2266 M47,1360.2266 L34,1375.2266 M47,1360.2266 L60,1375.2266 " fill="none" filter="url(#fiokd6nhkhx7q)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="139" x="527.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="534.5" y="74.5332">:RegisterSNSUserUI</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="139" x="527.5" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="534.5" y="1319.1504">:RegisterSNSUserUI</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="189" x="779.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="786.5" y="74.5332">:RegisterSNSUserController</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="189" x="779.5" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="786.5" y="1319.1504">:RegisterSNSUserController</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1022" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1060" y="56.9238">store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1029" y="74.5332">:SNSUserStore</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1022" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1060" y="1319.1504">store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1029" y="1336.7598">:SNSUserStore</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1231" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1253" y="56.9238">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1238" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1231" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1253" y="1319.1504">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1238" y="1336.7598">:Company</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1323" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1342.5" y="1319.1504">suser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1330" y="1336.7598">:SNSUser</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1411" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1418" y="74.5332">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1411" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1418" y="1319.1504">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="98" x="1569" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1576" y="74.5332">:EmailSender</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="98" x="1569" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1576" y="1319.1504">:EmailSender</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1681" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1714.5" y="56.9238">auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1688" y="74.5332">:AuthFacade</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1681" y="1297.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1714.5" y="1319.1504">auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1688" y="1336.7598">:AuthFacade</text><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="1181.0078" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="540.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="243.3672"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="466.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="814.4531"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="432.6797" style="stroke:#A80036;stroke-width:1.0;" width="10" x="871" y="314.0703"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="405.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="871" y="844.8047"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073" y="404.7734"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="247.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073" y="499.3438"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078" y="718.75"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="375.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073" y="875.1563"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078" y="1154.9141"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1267" y="344.4219"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1267" y="590.0469"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1357" y="529.6953"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1357" y="905.5078"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1357" y="965.8594"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1480" y="1026.2109"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1615" y="1220.2656"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1725.5" y="650.3984"/><rect fill="#FFFFFF" filter="url(#fiokd6nhkhx7q)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1725.5" y="1086.5625"/><polygon fill="#A80036" points="582,117.9609,592,121.9609,582,125.9609,586,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="588" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="70" y="117.1045">starts to register a new SNS User</text><polygon fill="#A80036" points="63,148.3125,53,152.3125,63,156.3125,59,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="598" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="80" y="147.4561">requests data (citizenCard, snsNumber, name, birthDay, phoneNumber, email, address)</text><polygon fill="#A80036" points="582,178.6641,592,182.6641,582,186.6641,586,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="588" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="70" y="177.8076">types requested data</text><polygon fill="#A80036" points="63,209.0156,53,213.0156,63,217.0156,59,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="598" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="80" y="208.1592">asks to select sex</text><polygon fill="#A80036" points="582,239.3672,592,243.3672,582,247.3672,586,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="588" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="70" y="238.5107">selects sex</text><path d="M609,256.3672 L609,282.3672 L1199,282.3672 L1199,266.3672 L1189,256.3672 L609,256.3672 " fill="#FBFB77" filter="url(#fiokd6nhkhx7q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1189,256.3672 L1189,266.3672 L1199,266.3672 L1189,256.3672 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="569" x="615" y="274.8623">snsUserData implies citizenCard, snsNumber, name, birthDay, phoneNumber, email, address, sex</text><polygon fill="#A80036" points="859,310.0703,869,314.0703,859,318.0703,863,314.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="865" y1="314.0703" y2="314.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="309.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="622" y="309.2139">snsUser = createSNSUser(snsUserData)</text><polygon fill="#A80036" points="1255,340.4219,1265,344.4219,1255,348.4219,1259,344.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881" x2="1261" y1="344.4219" y2="344.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="888" y="339.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="899" y="339.5654">store = getSNSUserStore()</text><polygon fill="#A80036" points="1061,400.7734,1071,404.7734,1061,408.7734,1065,404.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881" x2="1067" y1="404.7734" y2="404.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="888" y="399.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="899" y="399.917">snsUser = createSNSUser()</text><polygon fill="#A80036" points="1311,431.125,1321,435.125,1311,439.125,1315,435.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1078" x2="1317" y1="435.125" y2="435.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1085" y="430.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1096" y="430.2686">create()</text><rect fill="#FEFECE" filter="url(#fiokd6nhkhx7q)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1323" y="412.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1342.5" y="434.3066">suser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1330" y="451.916">:SNSUser</text><polygon fill="#A80036" points="1061,495.3438,1071,499.3438,1061,503.3438,1065,499.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881" x2="1067" y1="499.3438" y2="499.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="888" y="494.4873">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="906" y="494.4873">validateSNSUser(snsUser)</text><polygon fill="#A80036" points="1345,525.6953,1355,529.6953,1345,533.6953,1349,529.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1351" y1="529.6953" y2="529.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="524.8389">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1108" y="524.8389">email = getEmail(snsUser)</text><polygon fill="#A80036" points="1255,586.0469,1265,590.0469,1255,594.0469,1259,590.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1261" y1="590.0469" y2="590.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="585.1904">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1108" y="585.1904">auth = getAuthFacade()</text><polygon fill="#A80036" points="1713.5,646.3984,1723.5,650.3984,1713.5,654.3984,1717.5,650.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1719.5" y1="650.3984" y2="650.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="645.542">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1108" y="645.542">existsUser(email)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1088" x2="1130" y1="710.75" y2="710.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1130" x2="1130" y1="710.75" y2="723.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1089" x2="1130" y1="723.75" y2="723.75"/><polygon fill="#A80036" points="1099,719.75,1089,723.75,1099,727.75,1095,723.75" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095" y="705.8936">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1113" y="705.8936">checkDuplicates(snsUser)</text><polygon fill="#A80036" points="63,780.1016,53,784.1016,63,788.1016,59,784.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="598" y1="784.1016" y2="784.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="779.2451">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="87" y="779.2451">shows data and asks for confirmation</text><polygon fill="#A80036" points="582,810.4531,592,814.4531,582,818.4531,586,814.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="588" y1="814.4531" y2="814.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="809.5967">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="77" y="809.5967">confirms the data</text><polygon fill="#A80036" points="859,840.8047,869,844.8047,859,848.8047,863,844.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="865" y1="844.8047" y2="844.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="611" y="839.9482">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="629" y="839.9482">saveSNSUser()</text><polygon fill="#A80036" points="1061,871.1563,1071,875.1563,1061,879.1563,1065,875.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881" x2="1067" y1="875.1563" y2="875.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="888" y="870.2998">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="906" y="870.2998">saveSNSUser(snsUser)</text><polygon fill="#A80036" points="1345,901.5078,1355,905.5078,1345,909.5078,1349,905.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1351" y1="905.5078" y2="905.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="900.6514">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1108" y="900.6514">name = snsUser.getName()</text><polygon fill="#A80036" points="1345,961.8594,1355,965.8594,1345,969.8594,1349,965.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1351" y1="965.8594" y2="965.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="961.0029">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1108" y="961.0029">email = snsUser.getEmail()</text><polygon fill="#A80036" points="1468,1022.2109,1478,1026.2109,1468,1030.2109,1472,1026.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1474" y1="1026.2109" y2="1026.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="1021.3545">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1108" y="1021.3545">pwd = generatePwd()</text><polygon fill="#A80036" points="1713.5,1082.5625,1723.5,1086.5625,1713.5,1090.5625,1717.5,1086.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1719.5" y1="1086.5625" y2="1086.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="1081.7061">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="1108" y="1081.7061">addUserWithRole(name, email, pwd, "SNS_USER")</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1088" x2="1130" y1="1146.9141" y2="1146.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1130" x2="1130" y1="1146.9141" y2="1159.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1089" x2="1130" y1="1159.9141" y2="1159.9141"/><polygon fill="#A80036" points="1099,1155.9141,1089,1159.9141,1099,1163.9141,1095,1159.9141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095" y="1142.0576">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1113" y="1142.0576">addSNSUser(snsUser)</text><polygon fill="#A80036" points="1603,1216.2656,1613,1220.2656,1603,1224.2656,1607,1220.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083" x2="1609" y1="1220.2656" y2="1220.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090" y="1215.4092">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1108" y="1215.4092">sendEmail(email)</text><polygon fill="#A80036" points="58,1276.6172,48,1280.6172,58,1284.6172,54,1280.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="598" y1="1280.6172" y2="1280.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="64" y="1275.7607">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="82" y="1275.7607">informs operation success</text><!--MD5=[f888f0b4ca160ae5885189e5b91db74c]
@startuml Sequence Diagram
autonumber
'hide footbox
actor "Receptionist" as RECEPT

participant ":RegisterSNSUserUI" as UI
participant ":RegisterSNSUserController" as CTRL
participant "store\n:SNSUserStore" as STORE
participant "comp\n:Company" as COMP
participant "suser\n:SNSUser" as SUSER
participant ":PasswordGenerator" as PWDGEN
participant ":EmailSender" as EMAIL
participant "auth\n:AuthFacade" as AUTH

activate RECEPT
  RECEPT -> UI : starts to register a new SNS User
  activate UI
    RECEPT <- - UI : requests data (citizenCard, snsNumber, name, birthDay, phoneNumber, email, address)
  deactivate UI

  RECEPT -> UI : types requested data
  activate UI
    RECEPT <- - UI : asks to select sex
  deactivate UI

  RECEPT -> UI : selects sex
  activate UI
    note right of UI
      snsUserData implies citizenCard, snsNumber, name, birthDay, phoneNumber, email, address, sex
    end note

    UI -> CTRL : snsUser = createSNSUser(snsUserData)
    activate CTRL
      CTRL -> COMP : store = getSNSUserStore()
      activate COMP
      deactivate COMP

      CTRL -> STORE : snsUser = createSNSUser()
      activate STORE
        STORE -> SUSER** : create()
      deactivate STORE

      CTRL -> STORE : validateSNSUser(snsUser)
      activate STORE
        STORE -> SUSER : email = getEmail(snsUser)
        activate SUSER
        deactivate SUSER

        STORE -> COMP : auth = getAuthFacade()
        activate COMP
        deactivate COMP

        STORE -> AUTH : existsUser(email)
        activate AUTH
        deactivate AUTH

        STORE -> STORE : checkDuplicates(snsUser)
        activate STORE
        deactivate STORE

      deactivate STORE
    deactivate CTRL

  RECEPT <- - UI : shows data and asks for confirmation
  deactivate UI

  RECEPT -> UI : confirms the data
  activate UI
    UI -> CTRL : saveSNSUser()
    activate CTRL
      CTRL -> STORE : saveSNSUser(snsUser)
      activate STORE

' STORE - -> STORE : validateSNSUser(snsUser)
' activate STORE
' deactivate STORE

        STORE -> SUSER : name = snsUser.getName()
        activate SUSER
        deactivate SUSER

        STORE -> SUSER : email = snsUser.getEmail()
        activate SUSER
        deactivate SUSER

        STORE -> PWDGEN : pwd = generatePwd()
        activate PWDGEN
        deactivate PWDGEN

' STORE - -> COMP : auth = getAuthFacade()
' activate COMP
' deactivate COMP

        STORE -> AUTH : addUserWithRole(name, email, pwd, "SNS_USER")
        activate AUTH
        deactivate AUTH

        STORE -> STORE : addSNSUser(snsUser)
        activate STORE
        deactivate STORE

        STORE -> EMAIL : sendEmail(email)
        activate EMAIL
        deactivate EMAIL
      deactivate STORE
    deactivate CTRL

    RECEPT <- - UI : informs operation success
  deactivate UI

deactivate RECEPT

@enduml

@startuml Sequence Diagram
autonumber
actor "Receptionist" as RECEPT

participant ":RegisterSNSUserUI" as UI
participant ":RegisterSNSUserController" as CTRL
participant "store\n:SNSUserStore" as STORE
participant "comp\n:Company" as COMP
participant "suser\n:SNSUser" as SUSER
participant ":PasswordGenerator" as PWDGEN
participant ":EmailSender" as EMAIL
participant "auth\n:AuthFacade" as AUTH

activate RECEPT
  RECEPT -> UI : starts to register a new SNS User
  activate UI
    RECEPT <- - UI : requests data (citizenCard, snsNumber, name, birthDay, phoneNumber, email, address)
  deactivate UI

  RECEPT -> UI : types requested data
  activate UI
    RECEPT <- - UI : asks to select sex
  deactivate UI

  RECEPT -> UI : selects sex
  activate UI
    note right of UI
      snsUserData implies citizenCard, snsNumber, name, birthDay, phoneNumber, email, address, sex
    end note

    UI -> CTRL : snsUser = createSNSUser(snsUserData)
    activate CTRL
      CTRL -> COMP : store = getSNSUserStore()
      activate COMP
      deactivate COMP

      CTRL -> STORE : snsUser = createSNSUser()
      activate STORE
        STORE -> SUSER** : create()
      deactivate STORE

      CTRL -> STORE : validateSNSUser(snsUser)
      activate STORE
        STORE -> SUSER : email = getEmail(snsUser)
        activate SUSER
        deactivate SUSER

        STORE -> COMP : auth = getAuthFacade()
        activate COMP
        deactivate COMP

        STORE -> AUTH : existsUser(email)
        activate AUTH
        deactivate AUTH

        STORE -> STORE : checkDuplicates(snsUser)
        activate STORE
        deactivate STORE

      deactivate STORE
    deactivate CTRL

  RECEPT <- - UI : shows data and asks for confirmation
  deactivate UI

  RECEPT -> UI : confirms the data
  activate UI
    UI -> CTRL : saveSNSUser()
    activate CTRL
      CTRL -> STORE : saveSNSUser(snsUser)
      activate STORE


        STORE -> SUSER : name = snsUser.getName()
        activate SUSER
        deactivate SUSER

        STORE -> SUSER : email = snsUser.getEmail()
        activate SUSER
        deactivate SUSER

        STORE -> PWDGEN : pwd = generatePwd()
        activate PWDGEN
        deactivate PWDGEN


        STORE -> AUTH : addUserWithRole(name, email, pwd, "SNS_USER")
        activate AUTH
        deactivate AUTH

        STORE -> STORE : addSNSUser(snsUser)
        activate STORE
        deactivate STORE

        STORE -> EMAIL : sendEmail(email)
        activate EMAIL
        deactivate EMAIL
      deactivate STORE
    deactivate CTRL

    RECEPT <- - UI : informs operation success
  deactivate UI

deactivate RECEPT

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>