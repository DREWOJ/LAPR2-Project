<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1193px" preserveAspectRatio="none" style="width:2573px;height:1193px;background:#FFFFFF;" version="1.1" viewBox="0 0 2573 1193" width="2573px" zoomAndPan="magnify"><defs><filter height="300%" id="fg3an6pwawvzf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="989.9531" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="443" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="708.8828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="443" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="167.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="443" y="921.8984"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="191.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="740.5" y="259.625"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="395.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="740.5" y="473.3828"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="106.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="740.5" y="952.25"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="959.5" y="289.9766"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="100.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1111.5" y="350.3281"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="406.0313"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="564.0859"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1505" y="503.7344"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="244.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1714" y="624.4375"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1963" y="824.1953"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2155" y="738.4922"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2478" y="1029.2109"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="398.5" x="1022.5" y="365.3281"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="439.5" x="1599" y="783.4922"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="447.5" x2="447.5" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="745" x2="745" y1="223.9688" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="964.5" x2="964.5" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1116.5" x2="1116.5" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1346" x2="1346" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1510" x2="1510" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1719" x2="1719" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1967.5" x2="1967.5" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2159.5" x2="2159.5" y1="89.6094" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2341.5" x2="2341.5" y1="993.5547" y2="1107.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2482.5" x2="2482.5" y1="89.6094" y2="1107.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="86.5332">Receptionist</text><ellipse cx="47" cy="15" fill="#FEFECE" filter="url(#fg3an6pwawvzf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47,23 L47,50 M34,31 L60,31 M47,50 L34,65 M47,50 L60,65 " fill="none" filter="url(#fg3an6pwawvzf)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="1121.0957">Receptionist</text><ellipse cx="47" cy="1134.1719" fill="#FEFECE" filter="url(#fg3an6pwawvzf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47,1142.1719 L47,1169.1719 M34,1150.1719 L60,1150.1719 M47,1169.1719 L34,1184.1719 M47,1169.1719 L60,1184.1719 " fill="none" filter="url(#fg3an6pwawvzf)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="179" x="356.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="363.5" y="74.5332">:RegisterSNSUserArrivalUI</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="179" x="356.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="363.5" y="1128.0957">:RegisterSNSUserArrivalUI</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="229" x="629" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215" x="636" y="1128.0957">:RegisterSNSUserArrivalController</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="906.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="913.5" y="74.5332">comp:Company</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="906.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="913.5" y="1128.0957">comp:Company</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1032.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1039.5" y="74.5332">snsStore:SNSUserStore</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1032.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1039.5" y="1128.0957">snsStore:SNSUserStore</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="125" x="1282" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1289" y="74.5332">snsUser:SNSUser</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="125" x="1282" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1289" y="1128.0957">snsUser:SNSUser</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1421" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1428" y="74.5332">center:VaccinationCenter</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1421" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1428" y="1128.0957">center:VaccinationCenter</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="1609" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="1616" y="74.5332">appointments:AppointmentStore</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="1609" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="1616" y="1128.0957">appointments:AppointmentStore</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1907.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1914.5" y="74.5332">apt:Appointment</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1907.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1914.5" y="1128.0957">apt:Appointment</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="239" x="2038.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="2045.5" y="74.5332">Mapper&lt;Calendar, Appointment[][]&gt;</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="239" x="2038.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="2045.5" y="1128.0957">Mapper&lt;Calendar, Appointment[][]&gt;</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="2291.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="2298.5" y="1128.0957">arrival:Arrival</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="157" x="2402.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="2409.5" y="74.5332">wrLst:WaitingRoomList</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="157" x="2402.5" y="1106.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="2409.5" y="1128.0957">wrLst:WaitingRoomList</text><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="989.9531" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="443" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="708.8828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="443" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="167.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="443" y="921.8984"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="191.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="740.5" y="259.625"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="395.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="740.5" y="473.3828"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="106.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="740.5" y="952.25"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="959.5" y="289.9766"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="100.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1111.5" y="350.3281"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="406.0313"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="564.0859"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1505" y="503.7344"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="244.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1714" y="624.4375"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1963" y="824.1953"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2155" y="738.4922"/><rect fill="#FFFFFF" filter="url(#fg3an6pwawvzf)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2478" y="1029.2109"/><polygon fill="#A80036" points="431,117.9609,441,121.9609,431,125.9609,435,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="437" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361" x="70" y="117.1045">starts to register the SNS User arrival to the vaccination center</text><polygon fill="#A80036" points="63,148.3125,53,152.3125,63,156.3125,59,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="447" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="80" y="147.4561">asks for the SNS User number</text><polygon fill="#A80036" points="431,178.6641,441,182.6641,431,186.6641,435,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="437" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="70" y="177.8076">types the requested data</text><polygon fill="#A80036" points="617,209.0156,627,213.0156,617,217.0156,621,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="453" x2="623" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="460" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="471" y="208.1592">create(company, center)</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="229" x="629" y="190.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215" x="636" y="212.1973">:RegisterSNSUserArrivalController</text><polygon fill="#A80036" points="728.5,255.625,738.5,259.625,728.5,263.625,732.5,259.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="453" x2="734.5" y1="259.625" y2="259.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="460" y="254.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="471" y="254.7686">findSNSUserByNumber(snsNumber)</text><polygon fill="#A80036" points="947.5,285.9766,957.5,289.9766,947.5,293.9766,951.5,289.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="953.5" y1="289.9766" y2="289.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="757.5" y="285.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="768.5" y="285.1201">snsStore = getSNSUserStore()</text><polygon fill="#A80036" points="1099.5,346.3281,1109.5,350.3281,1099.5,354.3281,1103.5,350.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="1105.5" y1="350.3281" y2="350.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="757.5" y="345.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="768.5" y="345.4717">findSNSUser(snsNumber)</text><path d="M1022.5,365.3281 L1095.5,365.3281 L1095.5,373.3281 L1085.5,383.3281 L1022.5,383.3281 L1022.5,365.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="398.5" x="1022.5" y="365.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1037.5" y="379.8232">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="1110.5" y="378.7471">[while b is false]</text><polygon fill="#A80036" points="1329.5,402.0313,1339.5,406.0313,1329.5,410.0313,1333.5,406.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1121.5" x2="1335.5" y1="406.0313" y2="406.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1128.5" y="401.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1139.5" y="401.1748">b = hasSNSNumber(snsNumber)</text><polygon fill="#A80036" points="728.5,469.3828,738.5,473.3828,728.5,477.3828,732.5,473.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="453" x2="734.5" y1="473.3828" y2="473.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="460" y="468.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="471" y="468.5264">findSNSUserAppointment()</text><polygon fill="#A80036" points="1493,499.7344,1503,503.7344,1493,507.7344,1497,503.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="1499" y1="503.7344" y2="503.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="498.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="775.5" y="498.8779">appointments = getAppointmentList()</text><polygon fill="#A80036" points="1329.5,560.0859,1339.5,564.0859,1329.5,568.0859,1333.5,564.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="1335.5" y1="564.0859" y2="564.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="559.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="775.5" y="559.2295">snsNumber = getSnsNumber()</text><polygon fill="#A80036" points="1702,620.4375,1712,624.4375,1702,628.4375,1706,624.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="1708" y1="624.4375" y2="624.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="619.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="775.5" y="619.5811">appointment = hasAppointmentToday(snsNumber)</text><path d="M1729,637.4375 L1729,663.4375 L1936,663.4375 L1936,647.4375 L1926,637.4375 L1729,637.4375 " fill="#FBFB77" filter="url(#fg3an6pwawvzf)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1926,637.4375 L1926,647.4375 L1936,647.4375 L1926,637.4375 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1735" y="655.9326">today is an instance of Calendar</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1724" x2="1766" y1="695.1406" y2="695.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1766" x2="1766" y1="695.1406" y2="708.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1725" x2="1766" y1="708.1406" y2="708.1406"/><polygon fill="#A80036" points="1735,704.1406,1725,708.1406,1735,712.1406,1731,708.1406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1731" y="690.2842">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="1749" y="690.2842">key = generateKeyFromDate(today)</text><polygon fill="#A80036" points="2143,734.4922,2153,738.4922,2143,742.4922,2147,738.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1724" x2="2149" y1="738.4922" y2="738.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1731" y="733.6357">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="1749" y="733.6357">get(key)</text><path d="M1599,783.4922 L1672,783.4922 L1672,791.4922 L1662,801.4922 L1599,801.4922 L1599,783.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="439.5" x="1599" y="783.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1614" y="797.9873">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="1687" y="796.9111">[while b is false]</text><polygon fill="#A80036" points="1951,820.1953,1961,824.1953,1951,828.1953,1955,824.1953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1724" x2="1957" y1="824.1953" y2="824.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1731" y="819.3389">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1749" y="819.3389">b = hasSNSNumber(snsNumber)</text><polygon fill="#A80036" points="63,887.5469,53,891.5469,63,895.5469,59,891.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="447" y1="891.5469" y2="891.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="886.6904">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="87" y="886.6904">asks for confirmation for the appointment</text><polygon fill="#A80036" points="431,917.8984,441,921.8984,431,925.8984,435,921.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="437" y1="921.8984" y2="921.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="917.042">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="77" y="917.042">confirms the data</text><polygon fill="#A80036" points="728.5,948.25,738.5,952.25,728.5,956.25,732.5,952.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="453" x2="734.5" y1="952.25" y2="952.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="460" y="947.3936">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="478" y="947.3936">confirmAppointment(apt)</text><polygon fill="#A80036" points="2279.5,978.6016,2289.5,982.6016,2279.5,986.6016,2283.5,982.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="2285.5" y1="982.6016" y2="982.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="977.7451">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="775.5" y="977.7451">create(snsUser, apt)</text><rect fill="#FEFECE" filter="url(#fg3an6pwawvzf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="2291.5" y="960.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="2298.5" y="981.7832">arrival:Arrival</text><polygon fill="#A80036" points="2466,1025.2109,2476,1029.2109,2466,1033.2109,2470,1029.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="750.5" x2="2472" y1="1029.2109" y2="1029.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="1024.3545">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="775.5" y="1024.3545">add(arrival)</text><polygon fill="#A80036" points="58,1085.5625,48,1089.5625,58,1093.5625,54,1089.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="447" y1="1089.5625" y2="1089.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="64" y="1084.7061">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="82" y="1084.7061">informs operation success</text><!--MD5=[ed4d5cac36835a34b75dc701fb3cdcf5]
@startuml
autonumber

actor "Receptionist" as RECEPT

participant ":RegisterSNSUserArrivalUI" as UI
participant ":RegisterSNSUserArrivalController" as CTRL
participant "comp:Company" as COMP
participant "snsStore:SNSUserStore" as SUSTORE
participant "snsUser:SNSUser" as SNSUSER
participant "center:VaccinationCenter" as CENTER
participant "appointments:AppointmentStore" as APPTS
participant "apt:Appointment" as APT
participant "Mapper<Calendar, Appointment[][]>" as MAPPER
participant "arrival:Arrival" as ARRIVAL
participant "wrLst:WaitingRoomList" as WRLST

activate RECEPT
  RECEPT -> UI : starts to register the SNS User arrival to the vaccination center
  activate UI
  
  RECEPT <- - UI : asks for the SNS User number
  deactivate UI

  RECEPT -> UI : types the requested data
  activate UI
    
    UI -> CTRL** : create(company, center)

    UI -> CTRL : findSNSUserByNumber(snsNumber)
    activate CTRL

      CTRL -> COMP : snsStore = getSNSUserStore()
      activate COMP
      deactivate COMP

      CTRL -> SUSTORE : findSNSUser(snsNumber)
      activate SUSTORE
        ' loop for each snsUser
        loop while b is false
          SUSTORE -> SNSUSER : b = hasSNSNumber(snsNumber)
          activate SNSUSER
          ' alt b == true
            ' SUSTORE <- - SNSUSER : return snsUser
          deactivate SNSUSER
          ' end
        end
      deactivate SUSTORE

    deactivate CTRL

    UI -> CTRL : findSNSUserAppointment()
    activate CTRL

      CTRL -> CENTER : appointments = getAppointmentList()
      activate CENTER
      deactivate CENTER

      CTRL -> SNSUSER : snsNumber = getSnsNumber()
      activate SNSUSER
      deactivate SNSUSER

      CTRL -> APPTS : appointment = hasAppointmentToday(snsNumber)
      activate APPTS

        note right of APPTS
          today is an instance of Calendar
        end note
        APPTS -> APPTS : key = generateKeyFromDate(today)
        
        APPTS -> MAPPER : get(key)
        activate MAPPER
        deactivate MAPPER

        ' loop for each appointment
        loop while b is false
          APPTS -> APT : b = hasSNSNumber(snsNumber)
          activate APT
          ' alt b == true
            ' APPTS <- - APT : return apt
          deactivate APT
          ' end
        end

      deactivate APPTS

    deactivate CTRL
  
  RECEPT <- - UI : asks for confirmation for the appointment
  deactivate UI

  RECEPT -> UI : confirms the data
  activate UI

    UI -> CTRL : confirmAppointment(apt)
    activate CTRL
      CTRL -> ARRIVAL** : create(snsUser, apt)

      CTRL -> WRLST : add(arrival)
      activate WRLST
      deactivate WRLST

    deactivate CTRL

  RECEPT <- - UI : informs operation success
  deactivate UI

deactivate RECEPT

@enduml

@startuml
autonumber

actor "Receptionist" as RECEPT

participant ":RegisterSNSUserArrivalUI" as UI
participant ":RegisterSNSUserArrivalController" as CTRL
participant "comp:Company" as COMP
participant "snsStore:SNSUserStore" as SUSTORE
participant "snsUser:SNSUser" as SNSUSER
participant "center:VaccinationCenter" as CENTER
participant "appointments:AppointmentStore" as APPTS
participant "apt:Appointment" as APT
participant "Mapper<Calendar, Appointment[][]>" as MAPPER
participant "arrival:Arrival" as ARRIVAL
participant "wrLst:WaitingRoomList" as WRLST

activate RECEPT
  RECEPT -> UI : starts to register the SNS User arrival to the vaccination center
  activate UI
  
  RECEPT <- - UI : asks for the SNS User number
  deactivate UI

  RECEPT -> UI : types the requested data
  activate UI
    
    UI -> CTRL** : create(company, center)

    UI -> CTRL : findSNSUserByNumber(snsNumber)
    activate CTRL

      CTRL -> COMP : snsStore = getSNSUserStore()
      activate COMP
      deactivate COMP

      CTRL -> SUSTORE : findSNSUser(snsNumber)
      activate SUSTORE
        loop while b is false
          SUSTORE -> SNSUSER : b = hasSNSNumber(snsNumber)
          activate SNSUSER
          deactivate SNSUSER
        end
      deactivate SUSTORE

    deactivate CTRL

    UI -> CTRL : findSNSUserAppointment()
    activate CTRL

      CTRL -> CENTER : appointments = getAppointmentList()
      activate CENTER
      deactivate CENTER

      CTRL -> SNSUSER : snsNumber = getSnsNumber()
      activate SNSUSER
      deactivate SNSUSER

      CTRL -> APPTS : appointment = hasAppointmentToday(snsNumber)
      activate APPTS

        note right of APPTS
          today is an instance of Calendar
        end note
        APPTS -> APPTS : key = generateKeyFromDate(today)
        
        APPTS -> MAPPER : get(key)
        activate MAPPER
        deactivate MAPPER

        loop while b is false
          APPTS -> APT : b = hasSNSNumber(snsNumber)
          activate APT
          deactivate APT
        end

      deactivate APPTS

    deactivate CTRL
  
  RECEPT <- - UI : asks for confirmation for the appointment
  deactivate UI

  RECEPT -> UI : confirms the data
  activate UI

    UI -> CTRL : confirmAppointment(apt)
    activate CTRL
      CTRL -> ARRIVAL** : create(snsUser, apt)

      CTRL -> WRLST : add(arrival)
      activate WRLST
      deactivate WRLST

    deactivate CTRL

  RECEPT <- - UI : informs operation success
  deactivate UI

deactivate RECEPT

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>