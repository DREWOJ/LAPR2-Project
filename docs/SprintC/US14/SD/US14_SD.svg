<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1668px" preserveAspectRatio="none" style="width:4000px;height:1668px;background:#FFFFFF;" version="1.1" viewBox="0 0 4000 1668" width="4000px" zoomAndPan="magnify"><defs><filter height="300%" id="fo0by8m15mtxw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1465.2813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="107.3125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1244.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="320.3281"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1191.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587.5" y="350.6797"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="907" y="441.3828"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1025.8047" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073.5" y="501.7344"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="35.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="682.75"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="252.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="772.7109"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1083.5" y="997.1172"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="457.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="1070.4688"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1083.5" y="1432.1875"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1380.5" y="381.0313"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1380.5" y="868.4141"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1539.5" y="597.7891"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="211.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2362.5" y="1105.8203"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2916.5" y="808.0625"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2916.5" y="1136.1719"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2916.5" y="1196.5234"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3055.5" y="1256.875"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3205" y="928.7656"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3205" y="1363.8359"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3331.5" y="1497.5391"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1018.8047" style="stroke:#000000;stroke-width:2.0;" width="2403" x="994.5" y="516.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="266.5" x2="266.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="592.5" x2="592.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="911.5" x2="911.5" y1="254.3203" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1078.5" x2="1078.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1385.5" x2="1385.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1544.5" x2="1544.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2164.5" x2="2164.5" y1="639.0938" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2367.5" x2="2367.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2752.5" x2="2752.5" y1="1328.1797" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2921.5" x2="2921.5" y1="729.0547" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3060.5" x2="3060.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3209.5" x2="3209.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3336.5" x2="3336.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3512.5" x2="3512.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3814.5" x2="3814.5" y1="89.6094" y2="1582.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="5" y="86.5332">Administrator</text><ellipse cx="49.5" cy="15" fill="#FEFECE" filter="url(#fo0by8m15mtxw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49.5,23 L49.5,50 M36.5,31 L62.5,31 M49.5,50 L36.5,65 M49.5,50 L62.5,65 " fill="none" filter="url(#fo0by8m15mtxw)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="5" y="1596.4238">Administrator</text><ellipse cx="49.5" cy="1609.5" fill="#FEFECE" filter="url(#fo0by8m15mtxw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49.5,1617.5 L49.5,1644.5 M36.5,1625.5 L62.5,1625.5 M49.5,1644.5 L36.5,1659.5 M49.5,1644.5 L62.5,1659.5 " fill="none" filter="url(#fo0by8m15mtxw)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="166" x="181.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="188.5" y="74.5332">:UploadUsersFromFileUI</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="166" x="181.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="188.5" y="1603.4238">:UploadUsersFromFileUI</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="482.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="489.5" y="74.5332">:UploadUsersFromFileController</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="482.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="489.5" y="1603.4238">:UploadUsersFromFileController</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="829.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="836.5" y="1603.4238">csvReader:CSVReader</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1004.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1011.5" y="74.5332">store :SNSUserStore</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1004.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1011.5" y="1603.4238">store :SNSUserStore</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1325.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1332.5" y="74.5332">comp :Company</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1325.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1332.5" y="1603.4238">comp :Company</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1455.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1462.5" y="74.5332">mapper: SNSUserMapper</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1455.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1462.5" y="1603.4238">mapper: SNSUserMapper</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="128" x="2098.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2105.5" y="1603.4238">dto: SNSUserDTO</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="250" x="2240.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="2247.5" y="74.5332">mapper: SNSUserRegisterInfoMapper</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="250" x="2240.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="2247.5" y="1603.4238">mapper: SNSUserRegisterInfoMapper</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="204" x="2648.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="2655.5" y="1603.4238">dto: SNSUserRegisterInfoDTO</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="2866.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2873.5" y="1603.4238">user :SNSUser</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="2986.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="2993.5" y="74.5332">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="2986.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="2993.5" y="1603.4238">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="3144.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="3151.5" y="74.5332">auth :AuthFacade</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="3144.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="3151.5" y="1603.4238">auth :AuthFacade</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="98" x="3285.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="3292.5" y="74.5332">:EmailSender</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="98" x="3285.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="3292.5" y="1603.4238">:EmailSender</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="227" x="3397.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="3404.5" y="74.5332">userDataList :List&lt;Array&lt;String&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="227" x="3397.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="3404.5" y="1603.4238">userDataList :List&lt;Array&lt;String&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="348" x="3638.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="3645.5" y="74.5332">userRegisterInfoList: List&lt;SNSUserRegisterInfoDTO&gt;</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="348" x="3638.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="3645.5" y="1603.4238">userRegisterInfoList: List&lt;SNSUserRegisterInfoDTO&gt;</text><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1465.2813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="107.3125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1244.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="320.3281"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1191.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587.5" y="350.6797"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="907" y="441.3828"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="1025.8047" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1073.5" y="501.7344"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="35.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="682.75"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="252.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="772.7109"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1083.5" y="997.1172"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="457.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="1070.4688"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1083.5" y="1432.1875"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1380.5" y="381.0313"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1380.5" y="868.4141"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1539.5" y="597.7891"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="211.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2362.5" y="1105.8203"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2916.5" y="808.0625"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2916.5" y="1136.1719"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2916.5" y="1196.5234"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3055.5" y="1256.875"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3205" y="928.7656"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3205" y="1363.8359"/><rect fill="#FFFFFF" filter="url(#fo0by8m15mtxw)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3331.5" y="1497.5391"/><polygon fill="#A80036" points="249.5,117.9609,259.5,121.9609,249.5,125.9609,253.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="54.5" x2="255.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="72.5" y="117.1045">asks to load users from a file</text><polygon fill="#A80036" points="65.5,148.3125,55.5,152.3125,65.5,156.3125,61.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="265.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="82.5" y="147.4561">requests data (file path name)</text><polygon fill="#A80036" points="249.5,178.6641,259.5,182.6641,249.5,186.6641,253.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="54.5" x2="255.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="72.5" y="177.8076">types requested data</text><polygon fill="#A80036" points="575.5,209.0156,585.5,213.0156,575.5,217.0156,579.5,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="271.5" x2="581.5" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="278.5" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="289.5" y="208.1592">csvReader = createCsvReader(filePathName)</text><polygon fill="#A80036" points="817.5,239.3672,827.5,243.3672,817.5,247.3672,821.5,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="592.5" x2="823.5" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="599.5" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="610.5" y="238.5107">csvReader = create(filePathName)</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="829.5" y="221.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="836.5" y="242.5488">csvReader:CSVReader</text><polygon fill="#A80036" points="65.5,285.9766,55.5,289.9766,65.5,293.9766,61.5,289.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="265.5" y1="289.9766" y2="289.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="285.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="82.5" y="285.1201">asks to confirm action</text><polygon fill="#A80036" points="249.5,316.3281,259.5,320.3281,249.5,324.3281,253.5,320.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="54.5" x2="255.5" y1="320.3281" y2="320.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="315.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="72.5" y="315.4717">confirms action</text><polygon fill="#A80036" points="575.5,346.6797,585.5,350.6797,575.5,354.6797,579.5,350.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="271.5" x2="581.5" y1="350.6797" y2="350.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="278.5" y="345.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="289.5" y="345.8232">userRegisterInfoList = readAndUpload(csvReader)</text><polygon fill="#A80036" points="1368.5,377.0313,1378.5,381.0313,1368.5,385.0313,1372.5,381.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="597.5" x2="1374.5" y1="381.0313" y2="381.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="604.5" y="376.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="615.5" y="376.1748">store = getSNSUserStore()</text><polygon fill="#A80036" points="895,437.3828,905,441.3828,895,445.3828,899,441.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="597.5" x2="901" y1="441.3828" y2="441.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="604.5" y="436.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="622.5" y="436.5264">userDataList = readSNSUsersData()</text><polygon fill="#A80036" points="1061.5,497.7344,1071.5,501.7344,1061.5,505.7344,1065.5,501.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="597.5" x2="1067.5" y1="501.7344" y2="501.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="604.5" y="496.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="622.5" y="496.8779">userRegisterInfoList = registerListOfUsers(userDataList)</text><path d="M994.5,516.7344 L1067.5,516.7344 L1067.5,524.7344 L1057.5,534.7344 L994.5,534.7344 L994.5,516.7344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1018.8047" style="stroke:#000000;stroke-width:2.0;" width="2403" x="994.5" y="516.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1009.5" y="531.2295">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="1082.5" y="530.1533">[for each SNSUser register]</text><path d="M1088,540.0859 L1088,566.0859 L1838,566.0859 L1838,550.0859 L1828,540.0859 L1088,540.0859 " fill="#FBFB77" filter="url(#fo0by8m15mtxw)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1828,540.0859 L1828,550.0859 L1838,550.0859 L1828,540.0859 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="725" x="1094" y="558.5811">snsUserData is String[Name, Sex, Birth Date, Address, Phone Number, E-mail, SNS User Number and Citizen Card Number]</text><polygon fill="#A80036" points="1527.5,593.7891,1537.5,597.7891,1527.5,601.7891,1531.5,597.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083.5" x2="1533.5" y1="597.7891" y2="597.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090.5" y="592.9326">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="1108.5" y="592.9326">userDto = toDto(snsUserData)</text><polygon fill="#A80036" points="2086.5,624.1406,2096.5,628.1406,2086.5,632.1406,2090.5,628.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1544.5" x2="2092.5" y1="628.1406" y2="628.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1551.5" y="623.2842">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="1569.5" y="623.2842">create(citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email, address)</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="128" x="2098.5" y="605.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2105.5" y="627.3223">dto: SNSUserDTO</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1083.5" x2="1130.5" y1="669.75" y2="669.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1130.5" x2="1130.5" y1="669.75" y2="682.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1089.5" x2="1130.5" y1="682.75" y2="682.75"/><polygon fill="#A80036" points="1099.5,678.75,1089.5,682.75,1099.5,686.75,1095.5,682.75" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="664.8936">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="1113.5" y="664.8936">snsUser = createSNSUser(userDto)</text><polygon fill="#A80036" points="2854.5,714.1016,2864.5,718.1016,2854.5,722.1016,2858.5,718.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1083.5" x2="2860.5" y1="718.1016" y2="718.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1090.5" y="713.2451">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1108.5" y="713.2451">create(userDto)</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="2866.5" y="695.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2873.5" y="717.2832">user :SNSUser</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1083.5" x2="1130.5" y1="759.7109" y2="759.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1130.5" x2="1130.5" y1="759.7109" y2="772.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1089.5" x2="1130.5" y1="772.7109" y2="772.7109"/><polygon fill="#A80036" points="1099.5,768.7109,1089.5,772.7109,1099.5,776.7109,1095.5,772.7109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="754.8545">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1113.5" y="754.8545">validateSNSUser(snsUser)</text><polygon fill="#A80036" points="2904.5,804.0625,2914.5,808.0625,2904.5,812.0625,2908.5,808.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="2910.5" y1="808.0625" y2="808.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="803.2061">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1113.5" y="803.2061">email = getEmail(snsUser)</text><polygon fill="#A80036" points="1368.5,864.4141,1378.5,868.4141,1368.5,872.4141,1372.5,868.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="1374.5" y1="868.4141" y2="868.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="863.5576">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1113.5" y="863.5576">auth = getAuthFacade()</text><polygon fill="#A80036" points="3193,924.7656,3203,928.7656,3193,932.7656,3197,928.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="3199" y1="928.7656" y2="928.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="923.9092">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1113.5" y="923.9092">existsUser(email)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1093.5" x2="1135.5" y1="989.1172" y2="989.1172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1135.5" x2="1135.5" y1="989.1172" y2="1002.1172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094.5" x2="1135.5" y1="1002.1172" y2="1002.1172"/><polygon fill="#A80036" points="1104.5,998.1172,1094.5,1002.1172,1104.5,1006.1172,1100.5,1002.1172" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1100.5" y="984.2607">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1118.5" y="984.2607">checkDuplicates(snsUser)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1083.5" x2="1130.5" y1="1057.4688" y2="1057.4688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1130.5" x2="1130.5" y1="1057.4688" y2="1070.4688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1089.5" x2="1130.5" y1="1070.4688" y2="1070.4688"/><polygon fill="#A80036" points="1099.5,1066.4688,1089.5,1070.4688,1099.5,1074.4688,1095.5,1070.4688" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="1052.6123">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="1113.5" y="1052.6123">userRegisterInfoDto = saveSNSUser(snsUser)</text><polygon fill="#A80036" points="2350.5,1101.8203,2360.5,1105.8203,2350.5,1109.8203,2354.5,1105.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="2356.5" y1="1105.8203" y2="1105.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="1100.9639">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1113.5" y="1100.9639">userRegisterInfoDto = toDto(snsUser)</text><polygon fill="#A80036" points="2904.5,1132.1719,2914.5,1136.1719,2904.5,1140.1719,2908.5,1136.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2372.5" x2="2910.5" y1="1136.1719" y2="1136.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2379.5" y="1131.3154">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2397.5" y="1131.3154">name = getName()</text><polygon fill="#A80036" points="2904.5,1192.5234,2914.5,1196.5234,2904.5,1200.5234,2908.5,1196.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2372.5" x2="2910.5" y1="1196.5234" y2="1196.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2379.5" y="1191.667">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2397.5" y="1191.667">email = getEmail()</text><polygon fill="#A80036" points="3043.5,1252.875,3053.5,1256.875,3043.5,1260.875,3047.5,1256.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2372.5" x2="3049.5" y1="1256.875" y2="1256.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2379.5" y="1252.0186">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="2397.5" y="1252.0186">pwd = generatePwd()</text><polygon fill="#A80036" points="2636.5,1313.2266,2646.5,1317.2266,2636.5,1321.2266,2640.5,1317.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2367.5" x2="2642.5" y1="1317.2266" y2="1317.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2374.5" y="1312.3701">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="2392.5" y="1312.3701">create(name, email, pwd, "SNS_USER")</text><rect fill="#FEFECE" filter="url(#fo0by8m15mtxw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="204" x="2648.5" y="1294.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="2655.5" y="1316.4082">dto: SNSUserRegisterInfoDTO</text><polygon fill="#A80036" points="3193,1359.8359,3203,1363.8359,3193,1367.8359,3197,1363.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="3199" y1="1363.8359" y2="1363.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="1358.9795">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1113.5" y="1358.9795">addUserWithRole(userRegisterInfoDto)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1093.5" x2="1135.5" y1="1424.1875" y2="1424.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1135.5" x2="1135.5" y1="1424.1875" y2="1437.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094.5" x2="1135.5" y1="1437.1875" y2="1437.1875"/><polygon fill="#A80036" points="1104.5,1433.1875,1094.5,1437.1875,1104.5,1441.1875,1100.5,1437.1875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1100.5" y="1419.3311">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1118.5" y="1419.3311">addSNSUser(snsUser)</text><polygon fill="#A80036" points="3319.5,1493.5391,3329.5,1497.5391,3319.5,1501.5391,3323.5,1497.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="3325.5" y1="1497.5391" y2="1497.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1095.5" y="1492.6826">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1113.5" y="1492.6826">sendEmail(email)</text><polygon fill="#A80036" points="60.5,1560.8906,50.5,1564.8906,60.5,1568.8906,56.5,1564.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54.5" x2="265.5" y1="1564.8906" y2="1564.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="66.5" y="1560.0342">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="84.5" y="1560.0342">informs operation success</text><!--MD5=[574a1e629fcd598f871b2aa5520053dd]
@startuml
autonumber
'hide footbox
actor "Administrator" as ADM

participant ":UploadUsersFromFileUI" as UI
participant ":UploadUsersFromFileController" as CTRL
participant "csvReader:CSVReader" as CSVR
participant "store :SNSUserStore" as USR_STR
participant "comp :Company" as COMP
participant "mapper: SNSUserMapper" as MAPPER
participant "dto: SNSUserDTO" as DTO
participant "mapper: SNSUserRegisterInfoMapper" as USER_INFO_MAPPER
participant "dto: SNSUserRegisterInfoDTO" as USER_INFO_DTO
participant "user :SNSUser" as USR
participant ":PasswordGenerator" as PWDGEN
participant "auth :AuthFacade" as AUTH
participant ":EmailSender" as EMAIl
participant "userDataList :List<Array<String>>" as LIST
participant "userRegisterInfoList: List<SNSUserRegisterInfoDTO>" as USER_INFO_LIST

activate ADM
ADM -> UI : asks to load users from a file
activate UI
UI - -> ADM : requests data (file path name)
deactivate UI

ADM -> UI : types requested data
activate UI

    UI -> CTRL : csvReader = createCsvReader(filePathName)
    activate CTRL
        CTRL -> CSVR ** : csvReader = create(filePathName)
    deactivate CTRL

UI - -> ADM : asks to confirm action
deactivate UI

ADM -> UI : confirms action
activate UI

    UI -> CTRL : userRegisterInfoList = readAndUpload(csvReader)
    activate CTRL

        CTRL -> COMP : store = getSNSUserStore()
        activate COMP
        deactivate COMP

        CTRL -> CSVR : userDataList = readSNSUsersData()
        activate CSVR
        deactivate CSVR

        CTRL -> USR_STR : userRegisterInfoList = registerListOfUsers(userDataList)
        activate USR_STR

        loop for each SNSUser register
        note right of USR_STR
            snsUserData is String[Name, Sex, Birth Date, Address, Phone Number, E-mail, SNS User Number and Citizen Card Number] 
        end note
            USR_STR -> MAPPER : userDto = toDto(snsUserData)
            activate MAPPER
                MAPPER -> DTO ** : create(citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email, address)
            deactivate MAPPER


            USR_STR -> USR_STR : snsUser = createSNSUser(userDto)
            activate USR_STR
                USR_STR -> USR** : create(userDto)
            deactivate USR_STR

            USR_STR -> USR_STR : validateSNSUser(snsUser)
            activate USR_STR
                USR_STR -> USR : email = getEmail(snsUser)
                activate USR
                deactivate USR

                USR_STR -> COMP : auth = getAuthFacade()
                activate COMP
                deactivate COMP

                USR_STR -> AUTH : existsUser(email)
                activate AUTH
                deactivate AUTH

                USR_STR -> USR_STR : checkDuplicates(snsUser)
                activate USR_STR
            deactivate USR_STR

            deactivate USR_STR

            USR_STR -> USR_STR : userRegisterInfoDto = saveSNSUser(snsUser)
            activate USR_STR

                USR_STR -> USER_INFO_MAPPER : userRegisterInfoDto = toDto(snsUser)
                activate USER_INFO_MAPPER

                    USER_INFO_MAPPER -> USR : name = getName()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> USR : email = getEmail()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> PWDGEN : pwd = generatePwd()
                    activate PWDGEN
                    deactivate PWDGEN

                    USER_INFO_MAPPER -> USER_INFO_DTO ** : create(name, email, pwd, "SNS_USER")

                deactivate USER_INFO_MAPPER

            USR_STR -> AUTH : addUserWithRole(userRegisterInfoDto)
            activate AUTH
            deactivate AUTH

            USR_STR -> USR_STR : addSNSUser(snsUser)
            activate USR_STR
            deactivate USR_STR
           
            USR_STR -> EMAIl : sendEmail(email)
      
            activate EMAIl
            deactivate EMAIl

            deactivate USR_STR
        deactivate USR_STR
        end
    deactivate CTRL

UI - -> ADM : informs operation success
deactivate UI

deactivate ADM

@enduml

@startuml
autonumber
actor "Administrator" as ADM

participant ":UploadUsersFromFileUI" as UI
participant ":UploadUsersFromFileController" as CTRL
participant "csvReader:CSVReader" as CSVR
participant "store :SNSUserStore" as USR_STR
participant "comp :Company" as COMP
participant "mapper: SNSUserMapper" as MAPPER
participant "dto: SNSUserDTO" as DTO
participant "mapper: SNSUserRegisterInfoMapper" as USER_INFO_MAPPER
participant "dto: SNSUserRegisterInfoDTO" as USER_INFO_DTO
participant "user :SNSUser" as USR
participant ":PasswordGenerator" as PWDGEN
participant "auth :AuthFacade" as AUTH
participant ":EmailSender" as EMAIl
participant "userDataList :List<Array<String>>" as LIST
participant "userRegisterInfoList: List<SNSUserRegisterInfoDTO>" as USER_INFO_LIST

activate ADM
ADM -> UI : asks to load users from a file
activate UI
UI - -> ADM : requests data (file path name)
deactivate UI

ADM -> UI : types requested data
activate UI

    UI -> CTRL : csvReader = createCsvReader(filePathName)
    activate CTRL
        CTRL -> CSVR ** : csvReader = create(filePathName)
    deactivate CTRL

UI - -> ADM : asks to confirm action
deactivate UI

ADM -> UI : confirms action
activate UI

    UI -> CTRL : userRegisterInfoList = readAndUpload(csvReader)
    activate CTRL

        CTRL -> COMP : store = getSNSUserStore()
        activate COMP
        deactivate COMP

        CTRL -> CSVR : userDataList = readSNSUsersData()
        activate CSVR
        deactivate CSVR

        CTRL -> USR_STR : userRegisterInfoList = registerListOfUsers(userDataList)
        activate USR_STR

        loop for each SNSUser register
        note right of USR_STR
            snsUserData is String[Name, Sex, Birth Date, Address, Phone Number, E-mail, SNS User Number and Citizen Card Number] 
        end note
            USR_STR -> MAPPER : userDto = toDto(snsUserData)
            activate MAPPER
                MAPPER -> DTO ** : create(citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email, address)
            deactivate MAPPER


            USR_STR -> USR_STR : snsUser = createSNSUser(userDto)
            activate USR_STR
                USR_STR -> USR** : create(userDto)
            deactivate USR_STR

            USR_STR -> USR_STR : validateSNSUser(snsUser)
            activate USR_STR
                USR_STR -> USR : email = getEmail(snsUser)
                activate USR
                deactivate USR

                USR_STR -> COMP : auth = getAuthFacade()
                activate COMP
                deactivate COMP

                USR_STR -> AUTH : existsUser(email)
                activate AUTH
                deactivate AUTH

                USR_STR -> USR_STR : checkDuplicates(snsUser)
                activate USR_STR
            deactivate USR_STR

            deactivate USR_STR

            USR_STR -> USR_STR : userRegisterInfoDto = saveSNSUser(snsUser)
            activate USR_STR

                USR_STR -> USER_INFO_MAPPER : userRegisterInfoDto = toDto(snsUser)
                activate USER_INFO_MAPPER

                    USER_INFO_MAPPER -> USR : name = getName()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> USR : email = getEmail()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> PWDGEN : pwd = generatePwd()
                    activate PWDGEN
                    deactivate PWDGEN

                    USER_INFO_MAPPER -> USER_INFO_DTO ** : create(name, email, pwd, "SNS_USER")

                deactivate USER_INFO_MAPPER

            USR_STR -> AUTH : addUserWithRole(userRegisterInfoDto)
            activate AUTH
            deactivate AUTH

            USR_STR -> USR_STR : addSNSUser(snsUser)
            activate USR_STR
            deactivate USR_STR
           
            USR_STR -> EMAIl : sendEmail(email)
      
            activate EMAIl
            deactivate EMAIl

            deactivate USR_STR
        deactivate USR_STR
        end
    deactivate CTRL

UI - -> ADM : informs operation success
deactivate UI

deactivate ADM

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>