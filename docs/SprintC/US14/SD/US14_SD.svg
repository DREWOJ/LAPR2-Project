<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1668px" preserveAspectRatio="none" style="width:3940px;height:1668px;background:#FFFFFF;" version="1.1" viewBox="0 0 3940 1668" width="3940px" zoomAndPan="magnify"><defs><filter height="300%" id="f12rw9popkrd9r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1465.2813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="107.3125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1244.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="320.3281"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="527.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1191.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="527.5" y="350.6797"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="847" y="441.3828"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1025.8047" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1013.5" y="501.7344"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="35.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1018.5" y="682.75"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="252.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1018.5" y="772.7109"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="997.1172"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="457.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1018.5" y="1070.4688"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="1432.1875"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1320.5" y="381.0313"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1320.5" y="868.4141"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1479.5" y="597.7891"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="211.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2302.5" y="1105.8203"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2856.5" y="808.0625"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2856.5" y="1136.1719"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2856.5" y="1196.5234"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2995.5" y="1256.875"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3145" y="928.7656"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3145" y="1363.8359"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3271.5" y="1497.5391"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1018.8047" style="stroke:#000000;stroke-width:2.0;" width="2403" x="934.5" y="516.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="266.5" x2="266.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="532.5" x2="532.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="851.5" x2="851.5" y1="254.3203" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1018.5" x2="1018.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1325.5" x2="1325.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1484.5" x2="1484.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2104.5" x2="2104.5" y1="639.0938" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2307.5" x2="2307.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2692.5" x2="2692.5" y1="1328.1797" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2861.5" x2="2861.5" y1="729.0547" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3000.5" x2="3000.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3149.5" x2="3149.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3276.5" x2="3276.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3452.5" x2="3452.5" y1="89.6094" y2="1582.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3754.5" x2="3754.5" y1="89.6094" y2="1582.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="5" y="86.5332">Administrator</text><ellipse cx="49.5" cy="15" fill="#FEFECE" filter="url(#f12rw9popkrd9r)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49.5,23 L49.5,50 M36.5,31 L62.5,31 M49.5,50 L36.5,65 M49.5,50 L62.5,65 " fill="none" filter="url(#f12rw9popkrd9r)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="5" y="1596.4238">Administrator</text><ellipse cx="49.5" cy="1609.5" fill="#FEFECE" filter="url(#f12rw9popkrd9r)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49.5,1617.5 L49.5,1644.5 M36.5,1625.5 L62.5,1625.5 M49.5,1644.5 L36.5,1659.5 M49.5,1644.5 L62.5,1659.5 " fill="none" filter="url(#f12rw9popkrd9r)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="166" x="181.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="188.5" y="74.5332">:UploadUsersFromFileUI</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="166" x="181.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="188.5" y="1603.4238">:UploadUsersFromFileUI</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="422.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="429.5" y="74.5332">:UploadUsersFromFileController</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="422.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="429.5" y="1603.4238">:UploadUsersFromFileController</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="769.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="776.5" y="1603.4238">csvReader:CSVReader</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="944.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="951.5" y="74.5332">store :SNSUserStore</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="944.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="951.5" y="1603.4238">store :SNSUserStore</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1265.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1272.5" y="74.5332">comp :Company</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1265.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1272.5" y="1603.4238">comp :Company</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1395.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1402.5" y="74.5332">mapper: SNSUserMapper</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1395.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1402.5" y="1603.4238">mapper: SNSUserMapper</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="128" x="2038.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2045.5" y="1603.4238">dto: SNSUserDTO</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="250" x="2180.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="2187.5" y="74.5332">mapper: SNSUserRegisterInfoMapper</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="250" x="2180.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="2187.5" y="1603.4238">mapper: SNSUserRegisterInfoMapper</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="204" x="2588.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="2595.5" y="1603.4238">dto: SNSUserRegisterInfoDTO</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="2806.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2813.5" y="1603.4238">user :SNSUser</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="2926.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="2933.5" y="74.5332">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="2926.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="2933.5" y="1603.4238">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="3084.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="3091.5" y="74.5332">auth :AuthFacade</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="3084.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="3091.5" y="1603.4238">auth :AuthFacade</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="98" x="3225.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="3232.5" y="74.5332">:EmailSender</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="98" x="3225.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="3232.5" y="1603.4238">:EmailSender</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="227" x="3337.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="3344.5" y="74.5332">userDataList :List&lt;Array&lt;String&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="227" x="3337.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="3344.5" y="1603.4238">userDataList :List&lt;Array&lt;String&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="348" x="3578.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="3585.5" y="74.5332">userRegisterInfoList: List&lt;SNSUserRegisterInfoDTO&gt;</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="348" x="3578.5" y="1581.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="3585.5" y="1603.4238">userRegisterInfoList: List&lt;SNSUserRegisterInfoDTO&gt;</text><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1465.2813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="107.3125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1244.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="261.5" y="320.3281"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="527.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1191.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="527.5" y="350.6797"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="847" y="441.3828"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="1025.8047" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1013.5" y="501.7344"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="35.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1018.5" y="682.75"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="252.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1018.5" y="772.7109"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="997.1172"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="457.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1018.5" y="1070.4688"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="1432.1875"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1320.5" y="381.0313"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1320.5" y="868.4141"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1479.5" y="597.7891"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="211.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2302.5" y="1105.8203"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2856.5" y="808.0625"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2856.5" y="1136.1719"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2856.5" y="1196.5234"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2995.5" y="1256.875"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3145" y="928.7656"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3145" y="1363.8359"/><rect fill="#FFFFFF" filter="url(#f12rw9popkrd9r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3271.5" y="1497.5391"/><polygon fill="#A80036" points="249.5,117.9609,259.5,121.9609,249.5,125.9609,253.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="54.5" x2="255.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="72.5" y="117.1045">asks to load users from a file</text><polygon fill="#A80036" points="65.5,148.3125,55.5,152.3125,65.5,156.3125,61.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="265.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="82.5" y="147.4561">requests data (file path name)</text><polygon fill="#A80036" points="249.5,178.6641,259.5,182.6641,249.5,186.6641,253.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="54.5" x2="255.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="72.5" y="177.8076">types requested data</text><polygon fill="#A80036" points="515.5,209.0156,525.5,213.0156,515.5,217.0156,519.5,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="271.5" x2="521.5" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="278.5" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="289.5" y="208.1592">createCsvReader(filePathName)</text><polygon fill="#A80036" points="757.5,239.3672,767.5,243.3672,757.5,247.3672,761.5,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532.5" x2="763.5" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="539.5" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="550.5" y="238.5107">csvReader = create(filePathName)</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="769.5" y="221.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="776.5" y="242.5488">csvReader:CSVReader</text><polygon fill="#A80036" points="65.5,285.9766,55.5,289.9766,65.5,293.9766,61.5,289.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="265.5" y1="289.9766" y2="289.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="285.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="82.5" y="285.1201">asks to confirm action</text><polygon fill="#A80036" points="249.5,316.3281,259.5,320.3281,249.5,324.3281,253.5,320.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="54.5" x2="255.5" y1="320.3281" y2="320.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="315.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="72.5" y="315.4717">confirms action</text><polygon fill="#A80036" points="515.5,346.6797,525.5,350.6797,515.5,354.6797,519.5,350.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="271.5" x2="521.5" y1="350.6797" y2="350.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="278.5" y="345.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="289.5" y="345.8232">userRegisterInfoList = readAndUpload()</text><polygon fill="#A80036" points="1308.5,377.0313,1318.5,381.0313,1308.5,385.0313,1312.5,381.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="537.5" x2="1314.5" y1="381.0313" y2="381.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="544.5" y="376.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="555.5" y="376.1748">store = getSNSUserStore()</text><polygon fill="#A80036" points="835,437.3828,845,441.3828,835,445.3828,839,441.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="537.5" x2="841" y1="441.3828" y2="441.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="544.5" y="436.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="562.5" y="436.5264">userDataList = readSNSUsersData()</text><polygon fill="#A80036" points="1001.5,497.7344,1011.5,501.7344,1001.5,505.7344,1005.5,501.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="537.5" x2="1007.5" y1="501.7344" y2="501.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="544.5" y="496.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="562.5" y="496.8779">userRegisterInfoList = registerListOfUsers(userDataList)</text><path d="M934.5,516.7344 L1007.5,516.7344 L1007.5,524.7344 L997.5,534.7344 L934.5,534.7344 L934.5,516.7344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1018.8047" style="stroke:#000000;stroke-width:2.0;" width="2403" x="934.5" y="516.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="949.5" y="531.2295">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="1022.5" y="530.1533">[for each SNSUser register]</text><path d="M1028,540.0859 L1028,566.0859 L1778,566.0859 L1778,550.0859 L1768,540.0859 L1028,540.0859 " fill="#FBFB77" filter="url(#f12rw9popkrd9r)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1768,540.0859 L1768,550.0859 L1778,550.0859 L1768,540.0859 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="725" x="1034" y="558.5811">snsUserData is String[Name, Sex, Birth Date, Address, Phone Number, E-mail, SNS User Number and Citizen Card Number]</text><polygon fill="#A80036" points="1467.5,593.7891,1477.5,597.7891,1467.5,601.7891,1471.5,597.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1023.5" x2="1473.5" y1="597.7891" y2="597.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1030.5" y="592.9326">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="1048.5" y="592.9326">userDto = toDto(snsUserData)</text><polygon fill="#A80036" points="2026.5,624.1406,2036.5,628.1406,2026.5,632.1406,2030.5,628.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1484.5" x2="2032.5" y1="628.1406" y2="628.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1491.5" y="623.2842">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="1509.5" y="623.2842">create(citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email, address)</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="128" x="2038.5" y="605.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2045.5" y="627.3223">dto: SNSUserDTO</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1023.5" x2="1070.5" y1="669.75" y2="669.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1070.5" x2="1070.5" y1="669.75" y2="682.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1029.5" x2="1070.5" y1="682.75" y2="682.75"/><polygon fill="#A80036" points="1039.5,678.75,1029.5,682.75,1039.5,686.75,1035.5,682.75" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="664.8936">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="1053.5" y="664.8936">snsUser = createSNSUser(userDto)</text><polygon fill="#A80036" points="2794.5,714.1016,2804.5,718.1016,2794.5,722.1016,2798.5,718.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1023.5" x2="2800.5" y1="718.1016" y2="718.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1030.5" y="713.2451">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1048.5" y="713.2451">create(userDto)</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="2806.5" y="695.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2813.5" y="717.2832">user :SNSUser</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1023.5" x2="1070.5" y1="759.7109" y2="759.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1070.5" x2="1070.5" y1="759.7109" y2="772.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1029.5" x2="1070.5" y1="772.7109" y2="772.7109"/><polygon fill="#A80036" points="1039.5,768.7109,1029.5,772.7109,1039.5,776.7109,1035.5,772.7109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="754.8545">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1053.5" y="754.8545">validateSNSUser(snsUser)</text><polygon fill="#A80036" points="2844.5,804.0625,2854.5,808.0625,2844.5,812.0625,2848.5,808.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028.5" x2="2850.5" y1="808.0625" y2="808.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="803.2061">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1053.5" y="803.2061">email = getEmail(snsUser)</text><polygon fill="#A80036" points="1308.5,864.4141,1318.5,868.4141,1308.5,872.4141,1312.5,868.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028.5" x2="1314.5" y1="868.4141" y2="868.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="863.5576">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1053.5" y="863.5576">auth = getAuthFacade()</text><polygon fill="#A80036" points="3133,924.7656,3143,928.7656,3133,932.7656,3137,928.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028.5" x2="3139" y1="928.7656" y2="928.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="923.9092">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1053.5" y="923.9092">existsUser(email)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1033.5" x2="1075.5" y1="989.1172" y2="989.1172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1075.5" x2="1075.5" y1="989.1172" y2="1002.1172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1034.5" x2="1075.5" y1="1002.1172" y2="1002.1172"/><polygon fill="#A80036" points="1044.5,998.1172,1034.5,1002.1172,1044.5,1006.1172,1040.5,1002.1172" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1040.5" y="984.2607">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1058.5" y="984.2607">checkDuplicates(snsUser)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1023.5" x2="1070.5" y1="1057.4688" y2="1057.4688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1070.5" x2="1070.5" y1="1057.4688" y2="1070.4688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1029.5" x2="1070.5" y1="1070.4688" y2="1070.4688"/><polygon fill="#A80036" points="1039.5,1066.4688,1029.5,1070.4688,1039.5,1074.4688,1035.5,1070.4688" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1052.6123">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="1053.5" y="1052.6123">userRegisterInfoDto = saveSNSUser(snsUser)</text><polygon fill="#A80036" points="2290.5,1101.8203,2300.5,1105.8203,2290.5,1109.8203,2294.5,1105.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028.5" x2="2296.5" y1="1105.8203" y2="1105.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1100.9639">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1053.5" y="1100.9639">userRegisterInfoDto = toDto(snsUser)</text><polygon fill="#A80036" points="2844.5,1132.1719,2854.5,1136.1719,2844.5,1140.1719,2848.5,1136.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2312.5" x2="2850.5" y1="1136.1719" y2="1136.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2319.5" y="1131.3154">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2337.5" y="1131.3154">name = getName()</text><polygon fill="#A80036" points="2844.5,1192.5234,2854.5,1196.5234,2844.5,1200.5234,2848.5,1196.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2312.5" x2="2850.5" y1="1196.5234" y2="1196.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2319.5" y="1191.667">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2337.5" y="1191.667">email = getEmail()</text><polygon fill="#A80036" points="2983.5,1252.875,2993.5,1256.875,2983.5,1260.875,2987.5,1256.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2312.5" x2="2989.5" y1="1256.875" y2="1256.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2319.5" y="1252.0186">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="2337.5" y="1252.0186">pwd = generatePwd()</text><polygon fill="#A80036" points="2576.5,1313.2266,2586.5,1317.2266,2576.5,1321.2266,2580.5,1317.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2582.5" y1="1317.2266" y2="1317.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2314.5" y="1312.3701">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="2332.5" y="1312.3701">create(name, email, pwd, "SNS_USER")</text><rect fill="#FEFECE" filter="url(#f12rw9popkrd9r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="204" x="2588.5" y="1294.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="2595.5" y="1316.4082">dto: SNSUserRegisterInfoDTO</text><polygon fill="#A80036" points="3133,1359.8359,3143,1363.8359,3133,1367.8359,3137,1363.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028.5" x2="3139" y1="1363.8359" y2="1363.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1358.9795">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1053.5" y="1358.9795">addUserWithRole(userRegisterInfoDto)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1033.5" x2="1075.5" y1="1424.1875" y2="1424.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1075.5" x2="1075.5" y1="1424.1875" y2="1437.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1034.5" x2="1075.5" y1="1437.1875" y2="1437.1875"/><polygon fill="#A80036" points="1044.5,1433.1875,1034.5,1437.1875,1044.5,1441.1875,1040.5,1437.1875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1040.5" y="1419.3311">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1058.5" y="1419.3311">addSNSUser(snsUser)</text><polygon fill="#A80036" points="3259.5,1493.5391,3269.5,1497.5391,3259.5,1501.5391,3263.5,1497.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028.5" x2="3265.5" y1="1497.5391" y2="1497.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1492.6826">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1053.5" y="1492.6826">sendEmail(email)</text><polygon fill="#A80036" points="60.5,1560.8906,50.5,1564.8906,60.5,1568.8906,56.5,1564.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54.5" x2="265.5" y1="1564.8906" y2="1564.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="66.5" y="1560.0342">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="84.5" y="1560.0342">informs operation success</text><!--MD5=[9e9a3c346a0877e74c15af89bda7af53]
@startuml
autonumber
'hide footbox
actor "Administrator" as ADM

participant ":UploadUsersFromFileUI" as UI
participant ":UploadUsersFromFileController" as CTRL
participant "csvReader:CSVReader" as CSVR
participant "store :SNSUserStore" as USR_STR
participant "comp :Company" as COMP
participant "mapper: SNSUserMapper" as MAPPER
participant "dto: SNSUserDTO" as DTO
participant "mapper: SNSUserRegisterInfoMapper" as USER_INFO_MAPPER
participant "dto: SNSUserRegisterInfoDTO" as USER_INFO_DTO
participant "user :SNSUser" as USR
participant ":PasswordGenerator" as PWDGEN
participant "auth :AuthFacade" as AUTH
participant ":EmailSender" as EMAIl
participant "userDataList :List<Array<String>>" as LIST
participant "userRegisterInfoList: List<SNSUserRegisterInfoDTO>" as USER_INFO_LIST

activate ADM
ADM -> UI : asks to load users from a file
activate UI
UI - -> ADM : requests data (file path name)
deactivate UI

ADM -> UI : types requested data
activate UI

    UI -> CTRL : createCsvReader(filePathName)
    activate CTRL
        CTRL -> CSVR ** : csvReader = create(filePathName)
    deactivate CTRL

UI - -> ADM : asks to confirm action
deactivate UI

ADM -> UI : confirms action
activate UI

    UI -> CTRL : userRegisterInfoList = readAndUpload()
    activate CTRL

        CTRL -> COMP : store = getSNSUserStore()
        activate COMP
        deactivate COMP

        CTRL -> CSVR : userDataList = readSNSUsersData()
        activate CSVR
        deactivate CSVR

        CTRL -> USR_STR : userRegisterInfoList = registerListOfUsers(userDataList)
        activate USR_STR

        loop for each SNSUser register
        note right of USR_STR
            snsUserData is String[Name, Sex, Birth Date, Address, Phone Number, E-mail, SNS User Number and Citizen Card Number] 
        end note
            USR_STR -> MAPPER : userDto = toDto(snsUserData)
            activate MAPPER
                MAPPER -> DTO ** : create(citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email, address)
            deactivate MAPPER


            USR_STR -> USR_STR : snsUser = createSNSUser(userDto)
            activate USR_STR
                USR_STR -> USR** : create(userDto)
            deactivate USR_STR

            USR_STR -> USR_STR : validateSNSUser(snsUser)
            activate USR_STR
                USR_STR -> USR : email = getEmail(snsUser)
                activate USR
                deactivate USR

                USR_STR -> COMP : auth = getAuthFacade()
                activate COMP
                deactivate COMP

                USR_STR -> AUTH : existsUser(email)
                activate AUTH
                deactivate AUTH

                USR_STR -> USR_STR : checkDuplicates(snsUser)
                activate USR_STR
            deactivate USR_STR

            deactivate USR_STR

            USR_STR -> USR_STR : userRegisterInfoDto = saveSNSUser(snsUser)
            activate USR_STR

                USR_STR -> USER_INFO_MAPPER : userRegisterInfoDto = toDto(snsUser)
                activate USER_INFO_MAPPER

                    USER_INFO_MAPPER -> USR : name = getName()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> USR : email = getEmail()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> PWDGEN : pwd = generatePwd()
                    activate PWDGEN
                    deactivate PWDGEN

                    USER_INFO_MAPPER -> USER_INFO_DTO ** : create(name, email, pwd, "SNS_USER")

                deactivate USER_INFO_MAPPER

            USR_STR -> AUTH : addUserWithRole(userRegisterInfoDto)
            activate AUTH
            deactivate AUTH

            USR_STR -> USR_STR : addSNSUser(snsUser)
            activate USR_STR
            deactivate USR_STR
           
            USR_STR -> EMAIl : sendEmail(email)
      
            activate EMAIl
            deactivate EMAIl

            deactivate USR_STR
        deactivate USR_STR
        end
    deactivate CTRL

UI - -> ADM : informs operation success
deactivate UI

deactivate ADM

@enduml

@startuml
autonumber
actor "Administrator" as ADM

participant ":UploadUsersFromFileUI" as UI
participant ":UploadUsersFromFileController" as CTRL
participant "csvReader:CSVReader" as CSVR
participant "store :SNSUserStore" as USR_STR
participant "comp :Company" as COMP
participant "mapper: SNSUserMapper" as MAPPER
participant "dto: SNSUserDTO" as DTO
participant "mapper: SNSUserRegisterInfoMapper" as USER_INFO_MAPPER
participant "dto: SNSUserRegisterInfoDTO" as USER_INFO_DTO
participant "user :SNSUser" as USR
participant ":PasswordGenerator" as PWDGEN
participant "auth :AuthFacade" as AUTH
participant ":EmailSender" as EMAIl
participant "userDataList :List<Array<String>>" as LIST
participant "userRegisterInfoList: List<SNSUserRegisterInfoDTO>" as USER_INFO_LIST

activate ADM
ADM -> UI : asks to load users from a file
activate UI
UI - -> ADM : requests data (file path name)
deactivate UI

ADM -> UI : types requested data
activate UI

    UI -> CTRL : createCsvReader(filePathName)
    activate CTRL
        CTRL -> CSVR ** : csvReader = create(filePathName)
    deactivate CTRL

UI - -> ADM : asks to confirm action
deactivate UI

ADM -> UI : confirms action
activate UI

    UI -> CTRL : userRegisterInfoList = readAndUpload()
    activate CTRL

        CTRL -> COMP : store = getSNSUserStore()
        activate COMP
        deactivate COMP

        CTRL -> CSVR : userDataList = readSNSUsersData()
        activate CSVR
        deactivate CSVR

        CTRL -> USR_STR : userRegisterInfoList = registerListOfUsers(userDataList)
        activate USR_STR

        loop for each SNSUser register
        note right of USR_STR
            snsUserData is String[Name, Sex, Birth Date, Address, Phone Number, E-mail, SNS User Number and Citizen Card Number] 
        end note
            USR_STR -> MAPPER : userDto = toDto(snsUserData)
            activate MAPPER
                MAPPER -> DTO ** : create(citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email, address)
            deactivate MAPPER


            USR_STR -> USR_STR : snsUser = createSNSUser(userDto)
            activate USR_STR
                USR_STR -> USR** : create(userDto)
            deactivate USR_STR

            USR_STR -> USR_STR : validateSNSUser(snsUser)
            activate USR_STR
                USR_STR -> USR : email = getEmail(snsUser)
                activate USR
                deactivate USR

                USR_STR -> COMP : auth = getAuthFacade()
                activate COMP
                deactivate COMP

                USR_STR -> AUTH : existsUser(email)
                activate AUTH
                deactivate AUTH

                USR_STR -> USR_STR : checkDuplicates(snsUser)
                activate USR_STR
            deactivate USR_STR

            deactivate USR_STR

            USR_STR -> USR_STR : userRegisterInfoDto = saveSNSUser(snsUser)
            activate USR_STR

                USR_STR -> USER_INFO_MAPPER : userRegisterInfoDto = toDto(snsUser)
                activate USER_INFO_MAPPER

                    USER_INFO_MAPPER -> USR : name = getName()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> USR : email = getEmail()
                    activate USR
                    deactivate USR

                    USER_INFO_MAPPER -> PWDGEN : pwd = generatePwd()
                    activate PWDGEN
                    deactivate PWDGEN

                    USER_INFO_MAPPER -> USER_INFO_DTO ** : create(name, email, pwd, "SNS_USER")

                deactivate USER_INFO_MAPPER

            USR_STR -> AUTH : addUserWithRole(userRegisterInfoDto)
            activate AUTH
            deactivate AUTH

            USR_STR -> USR_STR : addSNSUser(snsUser)
            activate USR_STR
            deactivate USR_STR
           
            USR_STR -> EMAIl : sendEmail(email)
      
            activate EMAIl
            deactivate EMAIl

            deactivate USR_STR
        deactivate USR_STR
        end
    deactivate CTRL

UI - -> ADM : informs operation success
deactivate UI

deactivate ADM

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>