<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1679px" preserveAspectRatio="none" style="width:3026px;height:1679px;background:#FFFFFF;" version="1.1" viewBox="0 0 3026 1679" width="3026px" zoomAndPan="magnify"><defs><filter height="300%" id="f1mmkpouchjolu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="1478.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="23.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="1457.6016" style="stroke:#A80036;stroke-width:1.0;" width="10" x="465.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="217.9609"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="277.0938"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="65.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860.5" y="346.2266"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="1107.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860.5" y="440.6563"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1176.5" y="469.7891"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1290" y="381.5234"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1614.5" y="553.9219"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="905.7109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1782" y="613.0547"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="620.5859" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1991" y="752.9141"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2194" y="782.0469"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="841.1797"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="900.3125"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="959.4453"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1018.5781"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1077.7109"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1194.8086"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2479.5" y="1402.6328"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="775.9844" style="stroke:#000000;stroke-width:2.0;" width="967" x="1694" y="689.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="470.5" x2="470.5" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="702.5" x2="702.5" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="865.5" x2="865.5" y1="347.7422" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1181" x2="1181" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1295" x2="1295" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1442" x2="1442" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1619" x2="1619" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1787" x2="1787" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1995.5" x2="1995.5" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2198.5" x2="2198.5" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2355" x2="2355" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2484" x2="2484" y1="661.8516" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2607" x2="2607" y1="1331.5703" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2756" x2="2756" y1="88.2969" y2="1595.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2939" x2="2939" y1="88.2969" y2="1595.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="5" y="84.9951">Nurse</text><ellipse cx="28.5" cy="15" fill="#FEFECE" filter="url(#f1mmkpouchjolu)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28.5,23 L28.5,50 M15.5,31 L41.5,31 M28.5,50 L15.5,65 M28.5,50 L41.5,65 " fill="none" filter="url(#f1mmkpouchjolu)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="5" y="1607.0264">Nurse</text><ellipse cx="28.5" cy="1620.3281" fill="#FEFECE" filter="url(#f1mmkpouchjolu)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28.5,1628.3281 L28.5,1655.3281 M15.5,1636.3281 L41.5,1636.3281 M28.5,1655.3281 L15.5,1670.3281 M28.5,1655.3281 L41.5,1670.3281 " fill="none" filter="url(#f1mmkpouchjolu)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="198" x="369.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="376.5" y="72.9951">:ListUsersInWaitingRoomUI</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="198" x="369.5" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="376.5" y="1614.0264">:ListUsersInWaitingRoomUI</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="677.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="684.5" y="72.9951">:App</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="677.5" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="684.5" y="1614.0264">:App</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="252" x="737.5" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="744.5" y="1614.0264">:ListUsersInWaitingRoomController</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="115" x="1122" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1132" y="56.6982">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1129" y="72.9951">:NurseSession</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="115" x="1122" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1132" y="1614.0264">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1129" y="1630.3232">:NurseSession</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="1251" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1273.5" y="56.6982">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1258" y="72.9951">:Company</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="1251" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1273.5" y="1614.0264">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1258" y="1630.3232">:Company</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1349" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1359.5" y="56.6982">vaccinationCenterStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1356" y="72.9951">:VaccinationCenterStore</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1349" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1359.5" y="1614.0264">vaccinationCenterStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1356" y="1630.3232">:VaccinationCenterStore</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1545" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1555.5" y="56.6982">vaccinationCenter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1552" y="72.9951">:VaccinationCenter</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1545" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1555.5" y="1614.0264">vaccinationCenter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1552" y="1630.3232">:VaccinationCenter</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1704" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1711" y="72.9951">:WaitingRoomMapper</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1704" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1711" y="1614.0264">:WaitingRoomMapper</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="1938.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1945.5" y="72.9951">:ArrivalMapper</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="1938.5" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1945.5" y="1614.0264">:ArrivalMapper</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2157.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2168.5" y="56.6982">snsUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2164.5" y="72.9951">:SNSUser</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2157.5" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2168.5" y="1614.0264">snsUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2164.5" y="1630.3232">:SNSUser</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="98" x="2304" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2311" y="72.9951">arrival:Arrival</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="98" x="2304" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2311" y="1614.0264">arrival:Arrival</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="133" x="2416" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2423" y="1614.0264">waitingRoomDto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2426.5" y="1630.3232">List&lt;ArrivalDto&gt;</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="2563" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2573" y="1614.0264">arrivalDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2570" y="1630.3232">:ArrivalDto</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="187" x="2661" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2686" y="56.6982">vaccinationCenters:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="2668" y="72.9951">List&lt;VaccinationCenter&gt;</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="187" x="2661" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2686" y="1614.0264">vaccinationCenters:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="2668" y="1630.3232">List&lt;VaccinationCenter&gt;</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="150" x="2862" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2890" y="56.6982">waitingRoom:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="2869" y="72.9951">List&lt;Appointment&gt;</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="150" x="2862" y="1594.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2890" y="1614.0264">waitingRoom:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="2869" y="1630.3232">List&lt;Appointment&gt;</text><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="1478.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="23.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="1457.6016" style="stroke:#A80036;stroke-width:1.0;" width="10" x="465.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="217.9609"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="277.0938"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="65.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860.5" y="346.2266"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="1107.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860.5" y="440.6563"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1176.5" y="469.7891"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1290" y="381.5234"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1614.5" y="553.9219"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="905.7109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1782" y="613.0547"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="620.5859" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1991" y="752.9141"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2194" y="782.0469"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="841.1797"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="900.3125"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="959.4453"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1018.5781"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1077.7109"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1194.8086"/><rect fill="#FFFFFF" filter="url(#f1mmkpouchjolu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2479.5" y="1402.6328"/><polygon fill="#A80036" points="453.5,115.4297,463.5,119.4297,453.5,123.4297,457.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="33.5" x2="459.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="40.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="53.5" y="114.3638">asks to list users in waiting room for a given vaccination center</text><path d="M38,132.4297 L38,187.4297 L403,187.4297 L403,142.4297 L393,132.4297 L38,132.4297 " fill="#FBFB77" filter="url(#f1mmkpouchjolu)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M393,132.4297 L393,142.4297 L403,142.4297 L393,132.4297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="44" y="149.4966">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="145" y="149.4966">has the data of the vaccination center</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="44" y="164.6294">the nurse is working on, this data is selected right</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="44" y="179.7622">after the nurse logging in</text><polygon fill="#A80036" points="685.5,213.9609,695.5,217.9609,685.5,221.9609,689.5,217.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="691.5" y1="217.9609" y2="217.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="212.895">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="495.5" y="212.895">app=getInstance()</text><polygon fill="#A80036" points="685.5,273.0938,695.5,277.0938,685.5,281.0938,689.5,277.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="691.5" y1="277.0938" y2="277.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="272.0278">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="495.5" y="272.0278">company=app.getCompany()</text><polygon fill="#A80036" points="725.5,332.2266,735.5,336.2266,725.5,340.2266,729.5,336.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="731.5" y1="336.2266" y2="336.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="331.1606">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="495.5" y="331.1606">create(company,nurseSession)</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="252" x="737.5" y="315.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="744.5" y="335.0889">:ListUsersInWaitingRoomController</text><polygon fill="#A80036" points="1278,377.5234,1288,381.5234,1278,385.5234,1282,381.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1284" y1="381.5234" y2="381.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="376.4575">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="890.5" y="376.4575">vaccinationCenterStore=getVaccinationCenterStore()</text><polygon fill="#A80036" points="848.5,436.6563,858.5,440.6563,848.5,444.6563,852.5,440.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="854.5" y1="440.6563" y2="440.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="435.5903">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="495.5" y="435.5903">getWaitingRoomListFromNurseCenter()</text><polygon fill="#A80036" points="1164.5,465.7891,1174.5,469.7891,1164.5,473.7891,1168.5,469.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1170.5" y1="469.7891" y2="469.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="464.7231">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="890.5" y="464.7231">vaccinationCenter=getVaccinationCenter()</text><polygon fill="#A80036" points="1602.5,549.9219,1612.5,553.9219,1602.5,557.9219,1606.5,553.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1608.5" y1="553.9219" y2="553.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="548.856">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="890.5" y="548.856">waitingRoom=getWaitingRoom()</text><polygon fill="#A80036" points="1770,609.0547,1780,613.0547,1770,617.0547,1774,613.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1776" y1="613.0547" y2="613.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="607.9888">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="890.5" y="607.9888">waitingRoomDto=toDto(waitingRoom)</text><polygon fill="#A80036" points="2404,638.1875,2414,642.1875,2404,646.1875,2408,642.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1792" x2="2410" y1="642.1875" y2="642.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1799" y="637.1216">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1825" y="637.1216"/><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="133" x="2416" y="621.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2423" y="641.0498">waitingRoomDto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2426.5" y="657.3467">List&lt;ArrivalDto&gt;</text><path d="M1694,689.6484 L1771,689.6484 L1771,696.6484 L1761,706.6484 L1694,706.6484 L1694,689.6484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="775.9844" style="stroke:#000000;stroke-width:2.0;" width="967" x="1694" y="689.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1709" y="702.7153">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="211" x="1786" y="701.8589">[for each arrival in waitingRoom]</text><polygon fill="#A80036" points="1979,748.9141,1989,752.9141,1979,756.9141,1983,752.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1792" x2="1985" y1="752.9141" y2="752.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1799" y="747.8481">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1821" y="747.8481">arrivalDto=toDto(arrival)</text><polygon fill="#A80036" points="2182,778.0469,2192,782.0469,2182,786.0469,2186,782.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2188" y1="782.0469" y2="782.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="776.981">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="2030" y="776.981">snsUser=getSNSUser()</text><polygon fill="#A80036" points="2338,837.1797,2348,841.1797,2338,845.1797,2342,841.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2344" y1="841.1797" y2="841.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="836.1138">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="2030" y="836.1138">name=snsUser.getName()</text><polygon fill="#A80036" points="2338,896.3125,2348,900.3125,2338,904.3125,2342,900.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2344" y1="900.3125" y2="900.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="895.2466">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="2030" y="895.2466">gender=snsUser.getGender()</text><polygon fill="#A80036" points="2338,955.4453,2348,959.4453,2338,963.4453,2342,959.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2344" y1="959.4453" y2="959.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="954.3794">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="2030" y="954.3794">birthDate=snsUser.getBirthDate()</text><polygon fill="#A80036" points="2338,1014.5781,2348,1018.5781,2338,1022.5781,2342,1018.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2344" y1="1018.5781" y2="1018.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="1013.5122">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="2030" y="1013.5122">snsUserNumber=snsUser.getSnsUserNumber()</text><polygon fill="#A80036" points="2338,1073.7109,2348,1077.7109,2338,1081.7109,2342,1077.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2344" y1="1077.7109" y2="1077.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="1072.645">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="2030" y="1072.645">phoneNumber=snsUser.getPhoneNumber()()</text><polygon fill="#A80036" points="2338,1190.8086,2348,1194.8086,2338,1198.8086,2342,1194.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2344" y1="1194.8086" y2="1194.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="1189.7427">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="2030" y="1189.7427">time=arrival.getArrivalTime().getTime()</text><path d="M1740,1120.7109 L1740,1251.7109 L1982,1251.7109 L1982,1130.7109 L1972,1120.7109 L1740,1120.7109 " fill="#FBFB77" filter="url(#f1mmkpouchjolu)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1972,1120.7109 L1972,1130.7109 L1982,1130.7109 L1972,1120.7109 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1746" y="1137.7778">birthDate &amp; time must be parsed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1746" y="1152.9106">to string before the DTO is created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1750" y="1168.0435"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1746" y="1183.1763">Here we used SimpleDateFormat.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1750" y="1198.3091"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1746" y="1213.4419">Formats:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1746" y="1228.5747">"dd/MM/yyyy"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1746" y="1243.7075">"dd/MM/yyyy HH:mm"</text><polygon fill="#A80036" points="2551,1307.9063,2561,1311.9063,2551,1315.9063,2555,1311.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2001" x2="2557" y1="1311.9063" y2="1311.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2008" y="1306.8403">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="438" x="2030" y="1306.8403">create(name,gender,birthDate,snsUserNumber,phoneNumber,time)</text><rect fill="#FEFECE" filter="url(#f1mmkpouchjolu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="2563" y="1290.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2573" y="1310.7686">arrivalDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2570" y="1327.0654">:ArrivalDto</text><polygon fill="#A80036" points="1803,1369.5,1793,1373.5,1803,1377.5,1799,1373.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1797" x2="1995" y1="1373.5" y2="1373.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1809" y="1368.4341">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="1831" y="1368.4341">arrivalDto</text><polygon fill="#A80036" points="2467.5,1398.6328,2477.5,1402.6328,2467.5,1406.6328,2471.5,1402.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1792" x2="2473.5" y1="1402.6328" y2="1402.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1799" y="1397.5669">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1821" y="1397.5669">add(arrivalDto)</text><polygon fill="#A80036" points="881.5,1514.7656,871.5,1518.7656,881.5,1522.7656,877.5,1518.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="875.5" x2="1786" y1="1518.7656" y2="1518.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="887.5" y="1513.6997">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="909.5" y="1513.6997">waitingRoomDto</text><polygon fill="#A80036" points="486.5,1543.8984,476.5,1547.8984,486.5,1551.8984,482.5,1547.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480.5" x2="864.5" y1="1547.8984" y2="1547.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="492.5" y="1542.8325">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="514.5" y="1542.8325">waitingRoomDto</text><polygon fill="#A80036" points="39.5,1573.0313,29.5,1577.0313,39.5,1581.0313,35.5,1577.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="469.5" y1="1577.0313" y2="1577.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="45.5" y="1571.9653">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="67.5" y="1571.9653">shows list of users waiting in vaccination center</text><!--MD5=[2041ad0b2a4c2eefa4815c88277bbd50]
@startuml
autonumber
'hide footbox
actor "Nurse" as NURSE

participant ":ListUsersInWaitingRoomUI" as UI
activate NURSE
NURSE -> UI : asks to list users in waiting room for a given vaccination center

note right of NURSE
**nurseSession** has the data of the vaccination center
the nurse is working on, this data is selected right
after the nurse logging in
end note

activate UI
participant ":App" as APP
UI -> APP : app=getInstance()
activate APP
deactivate APP
UI -> APP : company=app.getCompany()
activate APP
deactivate APP

create ":ListUsersInWaitingRoomController" as CTRL

UI -> CTRL : create(company,nurseSession)

participant "nurseSession\n:NurseSession" as FAC
participant "comp\n:Company" as COMP
participant "vaccinationCenterStore\n:VaccinationCenterStore" as VACS
participant "vaccinationCenter\n:VaccinationCenter" as VACC
participant ":WaitingRoomMapper" as WAITM
participant ":ArrivalMapper" as ARRM
participant "snsUser\n:SNSUser" as SNSU
participant "arrival:Arrival" as ARR

activate CTRL
CTRL -> COMP : vaccinationCenterStore=getVaccinationCenterStore()
activate COMP
deactivate
deactivate CTRL

UI -> CTRL : getWaitingRoomListFromNurseCenter()
activate CTRL
CTRL -> FAC : vaccinationCenter=getVaccinationCenter()
activate FAC
deactivate FAC
|||

CTRL -> VACC : waitingRoom=getWaitingRoom()
activate VACC
deactivate VACC

CTRL -> WAITM : waitingRoomDto=toDto(waitingRoom)
activate WAITM

create "waitingRoomDto:\nList<ArrivalDto>" as WAITDTO

WAITM -> WAITDTO


loop for each arrival in waitingRoom
|||
  WAITM -> ARRM : arrivalDto=toDto(arrival)
  activate ARRM
  ARRM -> SNSU : snsUser=getSNSUser()
  activate SNSU
  deactivate SNSU
  ARRM -> ARR : name=snsUser.getName()
  activate ARR
  deactivate ARR
  ARRM -> ARR : gender=snsUser.getGender()
  activate ARR
  deactivate ARR
  ARRM -> ARR : birthDate=snsUser.getBirthDate()
  activate ARR
  deactivate ARR
  ARRM -> ARR : snsUserNumber=snsUser.getSnsUserNumber()
  activate ARR
  deactivate ARR
  ARRM -> ARR : phoneNumber=snsUser.getPhoneNumber()()
  activate ARR
  deactivate ARR
  ARRM -> ARR : time=arrival.getArrivalTime().getTime()
  activate ARR
  deactivate ARR

  create "arrivalDto\n:ArrivalDto" as APODTO
  note left
   birthDate & time must be parsed 
   to string before the DTO is created
   
   Here we used SimpleDateFormat.

   Formats: 
   "dd/MM/yyyy"
   "dd/MM/yyyy HH:mm"
  end note
  ARRM -> APODTO : create(name,gender,birthDate,snsUserNumber,phoneNumber,time)
  ARRM - -> WAITM : arrivalDto
  deactivate ARRM

  WAITM -> WAITDTO : add(arrivalDto)
  activate WAITDTO
  deactivate WAITDTO
|||
end

|||
WAITM - -> CTRL : waitingRoomDto 

deactivate WAITM

CTRL - -> UI: waitingRoomDto

deactivate COMP
deactivate CTRL
UI - -> NURSE: shows list of users waiting in vaccination center
deactivate UI

deactivate UI
deactivate CTRL
deactivate NURSE

participant "vaccinationCenters:\nList<VaccinationCenter>"
participant "waitingRoom:\nList<Appointment>"

@enduml

@startuml
autonumber
actor "Nurse" as NURSE

participant ":ListUsersInWaitingRoomUI" as UI
activate NURSE
NURSE -> UI : asks to list users in waiting room for a given vaccination center

note right of NURSE
**nurseSession** has the data of the vaccination center
the nurse is working on, this data is selected right
after the nurse logging in
end note

activate UI
participant ":App" as APP
UI -> APP : app=getInstance()
activate APP
deactivate APP
UI -> APP : company=app.getCompany()
activate APP
deactivate APP

create ":ListUsersInWaitingRoomController" as CTRL

UI -> CTRL : create(company,nurseSession)

participant "nurseSession\n:NurseSession" as FAC
participant "comp\n:Company" as COMP
participant "vaccinationCenterStore\n:VaccinationCenterStore" as VACS
participant "vaccinationCenter\n:VaccinationCenter" as VACC
participant ":WaitingRoomMapper" as WAITM
participant ":ArrivalMapper" as ARRM
participant "snsUser\n:SNSUser" as SNSU
participant "arrival:Arrival" as ARR

activate CTRL
CTRL -> COMP : vaccinationCenterStore=getVaccinationCenterStore()
activate COMP
deactivate
deactivate CTRL

UI -> CTRL : getWaitingRoomListFromNurseCenter()
activate CTRL
CTRL -> FAC : vaccinationCenter=getVaccinationCenter()
activate FAC
deactivate FAC
|||

CTRL -> VACC : waitingRoom=getWaitingRoom()
activate VACC
deactivate VACC

CTRL -> WAITM : waitingRoomDto=toDto(waitingRoom)
activate WAITM

create "waitingRoomDto:\nList<ArrivalDto>" as WAITDTO

WAITM -> WAITDTO


loop for each arrival in waitingRoom
|||
  WAITM -> ARRM : arrivalDto=toDto(arrival)
  activate ARRM
  ARRM -> SNSU : snsUser=getSNSUser()
  activate SNSU
  deactivate SNSU
  ARRM -> ARR : name=snsUser.getName()
  activate ARR
  deactivate ARR
  ARRM -> ARR : gender=snsUser.getGender()
  activate ARR
  deactivate ARR
  ARRM -> ARR : birthDate=snsUser.getBirthDate()
  activate ARR
  deactivate ARR
  ARRM -> ARR : snsUserNumber=snsUser.getSnsUserNumber()
  activate ARR
  deactivate ARR
  ARRM -> ARR : phoneNumber=snsUser.getPhoneNumber()()
  activate ARR
  deactivate ARR
  ARRM -> ARR : time=arrival.getArrivalTime().getTime()
  activate ARR
  deactivate ARR

  create "arrivalDto\n:ArrivalDto" as APODTO
  note left
   birthDate & time must be parsed 
   to string before the DTO is created
   
   Here we used SimpleDateFormat.

   Formats: 
   "dd/MM/yyyy"
   "dd/MM/yyyy HH:mm"
  end note
  ARRM -> APODTO : create(name,gender,birthDate,snsUserNumber,phoneNumber,time)
  ARRM - -> WAITM : arrivalDto
  deactivate ARRM

  WAITM -> WAITDTO : add(arrivalDto)
  activate WAITDTO
  deactivate WAITDTO
|||
end

|||
WAITM - -> CTRL : waitingRoomDto 

deactivate WAITM

CTRL - -> UI: waitingRoomDto

deactivate COMP
deactivate CTRL
UI - -> NURSE: shows list of users waiting in vaccination center
deactivate UI

deactivate UI
deactivate CTRL
deactivate NURSE

participant "vaccinationCenters:\nList<VaccinationCenter>"
participant "waitingRoom:\nList<Appointment>"

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>