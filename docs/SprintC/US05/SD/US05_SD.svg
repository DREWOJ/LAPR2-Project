<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1681px" preserveAspectRatio="none" style="width:3296px;height:1681px;background:#FFFFFF;" version="1.1" viewBox="0 0 3296 1681" width="3296px" zoomAndPan="magnify"><defs><filter height="300%" id="f1f9gdlkrbpqry" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="1481.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="23.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="1459.9375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="465.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="217.9609"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="277.0938"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="1168.7109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860.5" y="381.5234"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1214.5" y="410.6563"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1328" y="494.7891"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1475" y="613.0547"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1652.5" y="672.1875"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1848" y="553.9219"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="789.7813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2052" y="731.3203"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="504.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2261" y="871.1797"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2464" y="900.3125"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="959.4453"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1018.5781"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1077.7109"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1136.8438"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1195.9766"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1255.1094"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2749.5" y="1404.9688"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="660.0547" style="stroke:#000000;stroke-width:2.0;" width="967" x="1964" y="807.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="470.5" x2="470.5" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="702.5" x2="702.5" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="865.5" x2="865.5" y1="347.7422" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1219" x2="1219" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1333" x2="1333" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1480" x2="1480" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1657" x2="1657" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1853" x2="1853" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2057" x2="2057" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2265.5" x2="2265.5" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2468.5" x2="2468.5" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2625" x2="2625" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2754" x2="2754" y1="780.1172" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2877" x2="2877" y1="1333.9063" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3026" x2="3026" y1="88.2969" y2="1597.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3209" x2="3209" y1="88.2969" y2="1597.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="5" y="84.9951">Nurse</text><ellipse cx="28.5" cy="15" fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28.5,23 L28.5,50 M15.5,31 L41.5,31 M28.5,50 L15.5,65 M28.5,50 L41.5,65 " fill="none" filter="url(#f1f9gdlkrbpqry)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="5" y="1609.3623">Nurse</text><ellipse cx="28.5" cy="1622.6641" fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28.5,1630.6641 L28.5,1657.6641 M15.5,1638.6641 L41.5,1638.6641 M28.5,1657.6641 L15.5,1672.6641 M28.5,1657.6641 L41.5,1672.6641 " fill="none" filter="url(#f1f9gdlkrbpqry)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="198" x="369.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="376.5" y="72.9951">:ListUsersInWaitingRoomUI</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="198" x="369.5" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="376.5" y="1616.3623">:ListUsersInWaitingRoomUI</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="677.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="684.5" y="72.9951">:App</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="677.5" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="684.5" y="1616.3623">:App</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="252" x="737.5" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="744.5" y="1616.3623">:ListUsersInWaitingRoomController</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="115" x="1160" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1170" y="56.6982">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1167" y="72.9951">:NurseSession</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="115" x="1160" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1170" y="1616.3623">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1167" y="1632.6592">:NurseSession</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="1289" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1311.5" y="56.6982">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1296" y="72.9951">:Company</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="1289" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1311.5" y="1616.3623">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1296" y="1632.6592">:Company</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1387" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1397.5" y="56.6982">vaccinationCenterStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1394" y="72.9951">:VaccinationCenterStore</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1387" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1397.5" y="1616.3623">vaccinationCenterStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1394" y="1632.6592">:VaccinationCenterStore</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1583" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1593.5" y="56.6982">vaccinationCenter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1590" y="72.9951">:VaccinationCenter</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1583" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1593.5" y="1616.3623">vaccinationCenter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1590" y="1632.6592">:VaccinationCenter</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="218" x="1742" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1774" y="56.6982">vaccinationCenterDto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="1749" y="72.9951">List&lt;VaccinationCenterDTO&gt;</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="218" x="1742" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1774" y="1616.3623">vaccinationCenterDto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="1749" y="1632.6592">List&lt;VaccinationCenterDTO&gt;</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1974" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1981" y="72.9951">:WaitingRoomMapper</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1974" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1981" y="1616.3623">:WaitingRoomMapper</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="2208.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="2215.5" y="72.9951">:ArrivalMapper</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="2208.5" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="2215.5" y="1616.3623">:ArrivalMapper</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2427.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2438.5" y="56.6982">snsUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2434.5" y="72.9951">:SNSUser</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2427.5" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2438.5" y="1616.3623">snsUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2434.5" y="1632.6592">:SNSUser</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="98" x="2574" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2581" y="72.9951">arrival:Arrival</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="98" x="2574" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2581" y="1616.3623">arrival:Arrival</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="133" x="2686" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2693" y="1616.3623">waitingRoomDto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2696.5" y="1632.6592">List&lt;ArrivalDto&gt;</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="2833" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2843" y="1616.3623">arrivalDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2840" y="1632.6592">:ArrivalDto</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="187" x="2931" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2956" y="56.6982">vaccinationCenters:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="2938" y="72.9951">List&lt;VaccinationCenter&gt;</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="187" x="2931" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2956" y="1616.3623">vaccinationCenters:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="2938" y="1632.6592">List&lt;VaccinationCenter&gt;</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="150" x="3132" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="3160" y="56.6982">waitingRoom:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="3139" y="72.9951">List&lt;Appointment&gt;</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="150" x="3132" y="1596.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="3160" y="1616.3623">waitingRoom:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="3139" y="1632.6592">List&lt;Appointment&gt;</text><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="1481.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="23.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="1459.9375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="465.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="217.9609"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="697.5" y="277.0938"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="1168.7109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860.5" y="381.5234"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1214.5" y="410.6563"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1328" y="494.7891"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1475" y="613.0547"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1652.5" y="672.1875"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1848" y="553.9219"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="789.7813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2052" y="731.3203"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="504.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2261" y="871.1797"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2464" y="900.3125"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="959.4453"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1018.5781"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1077.7109"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1136.8438"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1195.9766"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2620" y="1255.1094"/><rect fill="#FFFFFF" filter="url(#f1f9gdlkrbpqry)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2749.5" y="1404.9688"/><polygon fill="#A80036" points="453.5,115.4297,463.5,119.4297,453.5,123.4297,457.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="33.5" x2="459.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="40.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="53.5" y="114.3638">asks to list users in waiting room for a given vaccination center</text><path d="M38,132.4297 L38,187.4297 L403,187.4297 L403,142.4297 L393,132.4297 L38,132.4297 " fill="#FBFB77" filter="url(#f1f9gdlkrbpqry)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M393,132.4297 L393,142.4297 L403,142.4297 L393,132.4297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="44" y="149.4966">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="145" y="149.4966">has the data of the vaccination center</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="44" y="164.6294">the nurse is working on, this data is selected right</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="44" y="179.7622">after the nurse logging in</text><polygon fill="#A80036" points="685.5,213.9609,695.5,217.9609,685.5,221.9609,689.5,217.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="691.5" y1="217.9609" y2="217.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="212.895">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="495.5" y="212.895">app=getInstance()</text><polygon fill="#A80036" points="685.5,273.0938,695.5,277.0938,685.5,281.0938,689.5,277.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="691.5" y1="277.0938" y2="277.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="272.0278">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="495.5" y="272.0278">company=app.getCompany()</text><polygon fill="#A80036" points="725.5,332.2266,735.5,336.2266,725.5,340.2266,729.5,336.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="731.5" y1="336.2266" y2="336.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="331.1606">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="495.5" y="331.1606">create(company,nurseSession)</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="252" x="737.5" y="315.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="744.5" y="335.0889">:ListUsersInWaitingRoomController</text><polygon fill="#A80036" points="848.5,377.5234,858.5,381.5234,848.5,385.5234,852.5,381.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="854.5" y1="381.5234" y2="381.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="482.5" y="376.4575">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="495.5" y="376.4575">getWaitingRoomListFromNurseCenter()</text><polygon fill="#A80036" points="1202.5,406.6563,1212.5,410.6563,1202.5,414.6563,1206.5,410.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1208.5" y1="410.6563" y2="410.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="405.5903">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="890.5" y="405.5903">nurseVaccinationCenter=getVaccinationCenter()</text><polygon fill="#A80036" points="1316,490.7891,1326,494.7891,1316,498.7891,1320,494.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1322" y1="494.7891" y2="494.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="489.7231">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="890.5" y="489.7231">vaccinationCenterStore=getVaccinationCenterStore()</text><polygon fill="#A80036" points="1836,549.9219,1846,553.9219,1836,557.9219,1840,553.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1842" y1="553.9219" y2="553.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="548.856">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="890.5" y="548.856">phone=getPhone()</text><polygon fill="#A80036" points="1463,609.0547,1473,613.0547,1463,617.0547,1467,613.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1469" y1="613.0547" y2="613.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="877.5" y="607.9888">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381" x="890.5" y="607.9888">vaccinationCenter=getVaccinationCenterWithPhone(phone)</text><polygon fill="#A80036" points="1640.5,668.1875,1650.5,672.1875,1640.5,676.1875,1644.5,672.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="1646.5" y1="672.1875" y2="672.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="877.5" y="667.1216">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="899.5" y="667.1216">waitingRoom=vaccinationCenter.getWaitingRoom()</text><polygon fill="#A80036" points="2040,727.3203,2050,731.3203,2040,735.3203,2044,731.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="870.5" x2="2046" y1="731.3203" y2="731.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="877.5" y="726.2544">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="899.5" y="726.2544">waitingRoomDto=toDto(waitingRoom)</text><polygon fill="#A80036" points="2674,756.4531,2684,760.4531,2674,764.4531,2678,760.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2062" x2="2680" y1="760.4531" y2="760.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2069" y="755.3872">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="2095" y="755.3872"/><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="133" x="2686" y="739.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2693" y="759.3154">waitingRoomDto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2696.5" y="775.6123">List&lt;ArrivalDto&gt;</text><path d="M1964,807.9141 L2041,807.9141 L2041,814.9141 L2031,824.9141 L1964,824.9141 L1964,807.9141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="660.0547" style="stroke:#000000;stroke-width:2.0;" width="967" x="1964" y="807.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1979" y="820.981">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="211" x="2056" y="820.1245">[for each arrival in waitingRoom]</text><polygon fill="#A80036" points="2249,867.1797,2259,871.1797,2249,875.1797,2253,871.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2062" x2="2255" y1="871.1797" y2="871.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2069" y="866.1138">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="2091" y="866.1138">arrivalDto=toDto(arrival)</text><polygon fill="#A80036" points="2452,896.3125,2462,900.3125,2452,904.3125,2456,900.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2458" y1="900.3125" y2="900.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="895.2466">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="2300" y="895.2466">snsUser=getSNSUser()</text><polygon fill="#A80036" points="2608,955.4453,2618,959.4453,2608,963.4453,2612,959.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2614" y1="959.4453" y2="959.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="954.3794">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="2300" y="954.3794">name=snsUser.getName()</text><polygon fill="#A80036" points="2608,1014.5781,2618,1018.5781,2608,1022.5781,2612,1018.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2614" y1="1018.5781" y2="1018.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="1013.5122">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="2300" y="1013.5122">gender=snsUser.getGender()</text><polygon fill="#A80036" points="2608,1073.7109,2618,1077.7109,2608,1081.7109,2612,1077.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2614" y1="1077.7109" y2="1077.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="1072.645">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="2300" y="1072.645">birthDate=snsUser.getBirthDate()</text><polygon fill="#A80036" points="2608,1132.8438,2618,1136.8438,2608,1140.8438,2612,1136.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2614" y1="1136.8438" y2="1136.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="1131.7778">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="2300" y="1131.7778">snsUserNumber=snsUser.getSnsUserNumber()</text><polygon fill="#A80036" points="2608,1191.9766,2618,1195.9766,2608,1199.9766,2612,1195.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2614" y1="1195.9766" y2="1195.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="1190.9106">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="2300" y="1190.9106">phoneNumber=snsUser.getPhoneNumber()()</text><polygon fill="#A80036" points="2608,1251.1094,2618,1255.1094,2608,1259.1094,2612,1255.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2614" y1="1255.1094" y2="1255.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="1250.0435">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="2300" y="1250.0435">time=arrival.getArrivalTime().getTime()</text><polygon fill="#A80036" points="2821,1310.2422,2831,1314.2422,2821,1318.2422,2825,1314.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2271" x2="2827" y1="1314.2422" y2="1314.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2278" y="1309.1763">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="438" x="2300" y="1309.1763">create(name,gender,birthDate,snsUserNumber,phoneNumber,time)</text><rect fill="#FEFECE" filter="url(#f1f9gdlkrbpqry)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="2833" y="1293.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2843" y="1313.1045">arrivalDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2840" y="1329.4014">:ArrivalDto</text><polygon fill="#A80036" points="2073,1371.8359,2063,1375.8359,2073,1379.8359,2069,1375.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2067" x2="2265" y1="1375.8359" y2="1375.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2079" y="1370.77">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="2101" y="1370.77">arrivalDto</text><polygon fill="#A80036" points="2737.5,1400.9688,2747.5,1404.9688,2737.5,1408.9688,2741.5,1404.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2062" x2="2743.5" y1="1404.9688" y2="1404.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2069" y="1399.9028">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="2091" y="1399.9028">add(arrivalDto)</text><polygon fill="#A80036" points="881.5,1517.1016,871.5,1521.1016,881.5,1525.1016,877.5,1521.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="875.5" x2="2056" y1="1521.1016" y2="1521.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="887.5" y="1516.0356">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="909.5" y="1516.0356">waitingRoomDto</text><polygon fill="#A80036" points="486.5,1546.2344,476.5,1550.2344,486.5,1554.2344,482.5,1550.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480.5" x2="864.5" y1="1550.2344" y2="1550.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="492.5" y="1545.1685">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="514.5" y="1545.1685">waitingRoomDto</text><polygon fill="#A80036" points="39.5,1575.3672,29.5,1579.3672,39.5,1583.3672,35.5,1579.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="469.5" y1="1579.3672" y2="1579.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="45.5" y="1574.3013">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="67.5" y="1574.3013">shows list of users waiting in vaccination center</text><!--MD5=[dd6018ef5199cdfa9fe6f5873e4986ea]
@startuml
autonumber
'hide footbox
actor "Nurse" as NURSE

participant ":ListUsersInWaitingRoomUI" as UI
activate NURSE
NURSE -> UI : asks to list users in waiting room for a given vaccination center

note right of NURSE
**nurseSession** has the data of the vaccination center
the nurse is working on, this data is selected right
after the nurse logging in
end note

activate UI
participant ":App" as APP
UI -> APP : app=getInstance()
activate APP
deactivate APP
UI -> APP : company=app.getCompany()
activate APP
deactivate APP

create ":ListUsersInWaitingRoomController" as CTRL

UI -> CTRL : create(company,nurseSession)

participant "nurseSession\n:NurseSession" as FAC
participant "comp\n:Company" as COMP
participant "vaccinationCenterStore\n:VaccinationCenterStore" as VACS
participant "vaccinationCenter\n:VaccinationCenter" as VACC
participant "vaccinationCenterDto:\nList<VaccinationCenterDTO>" as VACCDTO
participant ":WaitingRoomMapper" as WAITM
participant ":ArrivalMapper" as ARRM
participant "snsUser\n:SNSUser" as SNSU
participant "arrival:Arrival" as ARR


UI -> CTRL : getWaitingRoomListFromNurseCenter()
activate CTRL
CTRL -> FAC : nurseVaccinationCenter=getVaccinationCenter()
activate FAC
deactivate FAC
|||

CTRL -> COMP : vaccinationCenterStore=getVaccinationCenterStore()
activate COMP
deactivate

CTRL -> VACCDTO : phone=getPhone()
activate VACCDTO
deactivate VACCDTO

CTRL -> VACS : vaccinationCenter=getVaccinationCenterWithPhone(phone)
activate VACS
deactivate VACS

CTRL -> VACC : waitingRoom=vaccinationCenter.getWaitingRoom()
activate VACC
deactivate VACC

CTRL -> WAITM : waitingRoomDto=toDto(waitingRoom)
activate WAITM

create "waitingRoomDto:\nList<ArrivalDto>" as WAITDTO

WAITM -> WAITDTO


loop for each arrival in waitingRoom
|||
  WAITM -> ARRM : arrivalDto=toDto(arrival)
  activate ARRM
  ARRM -> SNSU : snsUser=getSNSUser()
  activate SNSU
  deactivate SNSU
  ARRM -> ARR : name=snsUser.getName()
  activate ARR
  deactivate ARR
  ARRM -> ARR : gender=snsUser.getGender()
  activate ARR
  deactivate ARR
  ARRM -> ARR : birthDate=snsUser.getBirthDate()
  activate ARR
  deactivate ARR
  ARRM -> ARR : snsUserNumber=snsUser.getSnsUserNumber()
  activate ARR
  deactivate ARR
  ARRM -> ARR : phoneNumber=snsUser.getPhoneNumber()()
  activate ARR
  deactivate ARR
  ARRM -> ARR : time=arrival.getArrivalTime().getTime()
  activate ARR
  deactivate ARR

  create "arrivalDto\n:ArrivalDto" as APODTO
  ARRM -> APODTO : create(name,gender,birthDate,snsUserNumber,phoneNumber,time)
  ARRM - -> WAITM : arrivalDto
  deactivate ARRM

  WAITM -> WAITDTO : add(arrivalDto)
  activate WAITDTO
  deactivate WAITDTO
|||
end

|||
WAITM - -> CTRL : waitingRoomDto 

deactivate WAITM

CTRL - -> UI: waitingRoomDto

deactivate COMP
deactivate CTRL
UI - -> NURSE: shows list of users waiting in vaccination center
deactivate UI

deactivate UI
deactivate CTRL
deactivate NURSE

participant "vaccinationCenters:\nList<VaccinationCenter>"
participant "waitingRoom:\nList<Appointment>"

@enduml

@startuml
autonumber
actor "Nurse" as NURSE

participant ":ListUsersInWaitingRoomUI" as UI
activate NURSE
NURSE -> UI : asks to list users in waiting room for a given vaccination center

note right of NURSE
**nurseSession** has the data of the vaccination center
the nurse is working on, this data is selected right
after the nurse logging in
end note

activate UI
participant ":App" as APP
UI -> APP : app=getInstance()
activate APP
deactivate APP
UI -> APP : company=app.getCompany()
activate APP
deactivate APP

create ":ListUsersInWaitingRoomController" as CTRL

UI -> CTRL : create(company,nurseSession)

participant "nurseSession\n:NurseSession" as FAC
participant "comp\n:Company" as COMP
participant "vaccinationCenterStore\n:VaccinationCenterStore" as VACS
participant "vaccinationCenter\n:VaccinationCenter" as VACC
participant "vaccinationCenterDto:\nList<VaccinationCenterDTO>" as VACCDTO
participant ":WaitingRoomMapper" as WAITM
participant ":ArrivalMapper" as ARRM
participant "snsUser\n:SNSUser" as SNSU
participant "arrival:Arrival" as ARR


UI -> CTRL : getWaitingRoomListFromNurseCenter()
activate CTRL
CTRL -> FAC : nurseVaccinationCenter=getVaccinationCenter()
activate FAC
deactivate FAC
|||

CTRL -> COMP : vaccinationCenterStore=getVaccinationCenterStore()
activate COMP
deactivate

CTRL -> VACCDTO : phone=getPhone()
activate VACCDTO
deactivate VACCDTO

CTRL -> VACS : vaccinationCenter=getVaccinationCenterWithPhone(phone)
activate VACS
deactivate VACS

CTRL -> VACC : waitingRoom=vaccinationCenter.getWaitingRoom()
activate VACC
deactivate VACC

CTRL -> WAITM : waitingRoomDto=toDto(waitingRoom)
activate WAITM

create "waitingRoomDto:\nList<ArrivalDto>" as WAITDTO

WAITM -> WAITDTO


loop for each arrival in waitingRoom
|||
  WAITM -> ARRM : arrivalDto=toDto(arrival)
  activate ARRM
  ARRM -> SNSU : snsUser=getSNSUser()
  activate SNSU
  deactivate SNSU
  ARRM -> ARR : name=snsUser.getName()
  activate ARR
  deactivate ARR
  ARRM -> ARR : gender=snsUser.getGender()
  activate ARR
  deactivate ARR
  ARRM -> ARR : birthDate=snsUser.getBirthDate()
  activate ARR
  deactivate ARR
  ARRM -> ARR : snsUserNumber=snsUser.getSnsUserNumber()
  activate ARR
  deactivate ARR
  ARRM -> ARR : phoneNumber=snsUser.getPhoneNumber()()
  activate ARR
  deactivate ARR
  ARRM -> ARR : time=arrival.getArrivalTime().getTime()
  activate ARR
  deactivate ARR

  create "arrivalDto\n:ArrivalDto" as APODTO
  ARRM -> APODTO : create(name,gender,birthDate,snsUserNumber,phoneNumber,time)
  ARRM - -> WAITM : arrivalDto
  deactivate ARRM

  WAITM -> WAITDTO : add(arrivalDto)
  activate WAITDTO
  deactivate WAITDTO
|||
end

|||
WAITM - -> CTRL : waitingRoomDto 

deactivate WAITM

CTRL - -> UI: waitingRoomDto

deactivate COMP
deactivate CTRL
UI - -> NURSE: shows list of users waiting in vaccination center
deactivate UI

deactivate UI
deactivate CTRL
deactivate NURSE

participant "vaccinationCenters:\nList<VaccinationCenter>"
participant "waitingRoom:\nList<Appointment>"

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>