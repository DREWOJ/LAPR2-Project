<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1166px" preserveAspectRatio="none" style="width:2087px;height:1166px;background:#FFFFFF;" version="1.1" viewBox="0 0 2087 1166" width="2087px" zoomAndPan="magnify"><defs><filter height="300%" id="f1exjox25vl160" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="229.1406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="322" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="594.3828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="690" y="391.4141"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="695" y="812.2266"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="39" style="stroke:#A80036;stroke-width:1.0;" width="10" x="690" y="1056.5"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="912" y="290.7109"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="912" y="391.4141"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="912" y="1056.5"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1033" y="451.7656"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1194" y="512.1172"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1338" y="597.8203"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1493.5" y="683.5234"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1617" y="743.875"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1709.5" y="955.7969"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="305.1094" style="stroke:#000000;stroke-width:2.0;" width="1097" x="580" y="557.1172"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="212.4063" style="stroke:#000000;stroke-width:2.0;" width="1077" x="590" y="642.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="327" x2="327" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="695" x2="695" y1="182.0313" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="917" x2="917" y1="246.25" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1038" x2="1038" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1199" x2="1199" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1343" x2="1343" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1498" x2="1498" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1622" x2="1622" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1714" x2="1714" y1="911.3359" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1822" x2="1822" y1="59.2188" y2="1104.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1979" x2="1979" y1="59.2188" y2="1104.5"/><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="288" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="295" y="44.1426">Company</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="288" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="295" y="1125.0332">Company</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="186" x="600" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="678" y="1125.0332">task:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="607" y="1142.6426">ExportDailyVaccinatedTask</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="50" x="890" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="897.5" y="1125.0332">timer:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="897" y="1142.6426">Timer</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="164" x="954" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="995" y="26.5332">vacCenterSt:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="961" y="44.1426">VaccinationCenterStore</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="164" x="954" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="995" y="1125.0332">vacCenterSt:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="961" y="1142.6426">VaccinationCenterStore</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1132" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1161.5" y="26.5332">vacTypeSt:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1139" y="44.1426">VaccineTypeStore</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1132" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1161.5" y="1125.0332">vacTypeSt:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1139" y="1142.6426">VaccineTypeStore</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1276" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1319" y="26.5332">center:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1283" y="44.1426">VaccinationCenter</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1276" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1319" y="1125.0332">center:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1283" y="1142.6426">VaccinationCenter</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="153" x="1420" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1464" y="26.5332">vacAdmin:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1427" y="44.1426">VaccineAdministration</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="153" x="1420" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1464" y="1125.0332">vacAdmin:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1427" y="1142.6426">VaccineAdministration</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="66" x="1587" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1594" y="26.5332">vaccine:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1595" y="44.1426">Vaccine</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="66" x="1587" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1594" y="1125.0332">vaccine:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1595" y="1142.6426">Vaccine</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1667" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1692.5" y="1125.0332">csvEx:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1674" y="1142.6426">CsvExporter</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1772" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1791" y="26.5332">vacType:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1779" y="44.1426">VaccineType</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1772" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1791" y="1125.0332">vacType:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1779" y="1142.6426">VaccineType</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="191" x="1882" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1934" y="26.5332">vacAdminList:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="1889" y="44.1426">List&lt;VaccineAdministration&gt;</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="191" x="1882" y="1103.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1934" y="1125.0332">vacAdminList:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="1889" y="1142.6426">List&lt;VaccineAdministration&gt;</text><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="229.1406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="322" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="594.3828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="690" y="391.4141"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="695" y="812.2266"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="39" style="stroke:#A80036;stroke-width:1.0;" width="10" x="690" y="1056.5"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="912" y="290.7109"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="912" y="391.4141"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="912" y="1056.5"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1033" y="451.7656"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1194" y="512.1172"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1338" y="597.8203"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1493.5" y="683.5234"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1617" y="743.875"/><rect fill="#FFFFFF" filter="url(#f1exjox25vl160)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1709.5" y="955.7969"/><ellipse cx="7.5" cy="90.8203" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="310,87.5703,320,91.5703,310,95.5703,314,91.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="316" y1="91.5703" y2="91.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="86.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="26" y="86.7139">scheduleExportDailyVaccinated(firstTime, period)</text><path d="M337,104.5703 L337,130.5703 L560,130.5703 L560,114.5703 L550,104.5703 L337,104.5703 " fill="#FBFB77" filter="url(#f1exjox25vl160)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M550,104.5703 L550,114.5703 L560,114.5703 L550,104.5703 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="343" y="123.0654">filePath is a property of the system</text><polygon fill="#A80036" points="588,158.2734,598,162.2734,588,166.2734,592,162.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332" x2="594" y1="162.2734" y2="162.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="339" y="157.417">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="350" y="157.417">create(filePath, vacCenterSt, vacTypeSt)</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="186" x="600" y="139.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="678" y="161.4551">task:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="607" y="179.0645">ExportDailyVaccinatedTask</text><polygon fill="#A80036" points="878,222.4922,888,226.4922,878,230.4922,882,226.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332" x2="884" y1="226.4922" y2="226.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="339" y="221.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="350" y="221.6357">create()</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="50" x="890" y="204.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="897.5" y="225.6738">timer:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="897" y="243.2832">Timer</text><polygon fill="#A80036" points="900,286.7109,910,290.7109,900,294.7109,904,290.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="332" x2="906" y1="290.7109" y2="290.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="339" y="285.8545">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="350" y="285.8545">scheduleAtFixedRate(task, firstTime, period)</text><path d="M700,333.7109 L700,359.7109 L1055,359.7109 L1055,343.7109 L1045,333.7109 L700,333.7109 " fill="#FBFB77" filter="url(#f1exjox25vl160)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1045,333.7109 L1045,343.7109 L1055,343.7109 L1045,333.7109 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="334" x="706" y="352.2061">After the time to the specifiede date and time has elapsed</text><polygon fill="#A80036" points="711,387.4141,701,391.4141,711,395.4141,707,391.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="705" x2="911" y1="391.4141" y2="391.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="717" y="386.5576">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="728" y="386.5576">run()</text><polygon fill="#A80036" points="1021,447.7656,1031,451.7656,1021,455.7656,1025,451.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="700" x2="1027" y1="451.7656" y2="451.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="707" y="446.9092">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="718" y="446.9092">centerLst = getVaccinationCenters()</text><polygon fill="#A80036" points="1182,508.1172,1192,512.1172,1182,516.1172,1186,512.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="700" x2="1188" y1="512.1172" y2="512.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="707" y="507.2607">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="718" y="507.2607">vacTypeLst = getVaccineTypes()</text><path d="M580,557.1172 L653,557.1172 L653,565.1172 L643,575.1172 L580,575.1172 L580,557.1172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="305.1094" style="stroke:#000000;stroke-width:2.0;" width="1097" x="580" y="557.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="595" y="571.6123">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153" x="668" y="570.5361">[foreach vaccination center]</text><polygon fill="#A80036" points="1326,593.8203,1336,597.8203,1326,601.8203,1330,597.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="700" x2="1332" y1="597.8203" y2="597.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="707" y="592.9639">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="718" y="592.9639">vacAdminList = getVaccinaAdminList()</text><path d="M590,642.8203 L663,642.8203 L663,650.8203 L653,660.8203 L590,660.8203 L590,642.8203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="212.4063" style="stroke:#000000;stroke-width:2.0;" width="1077" x="590" y="642.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="605" y="657.3154">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="177" x="678" y="656.2393">[foreach vaccine administration]</text><polygon fill="#A80036" points="1481.5,679.5234,1491.5,683.5234,1481.5,687.5234,1485.5,683.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="700" x2="1487.5" y1="683.5234" y2="683.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="707" y="678.667">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="718" y="678.667">vaccine = getVaccine()</text><polygon fill="#A80036" points="1605,739.875,1615,743.875,1605,747.875,1609,743.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="700" x2="1611" y1="743.875" y2="743.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="707" y="739.0186">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="725" y="739.0186">vacType = getVacType()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="705" x2="747" y1="804.2266" y2="804.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="747" x2="747" y1="804.2266" y2="817.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="706" x2="747" y1="817.2266" y2="817.2266"/><polygon fill="#A80036" points="716,813.2266,706,817.2266,716,821.2266,712,817.2266" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="712" y="799.3701">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="730" y="799.3701">listIncrementVacType(vacType)</text><polygon fill="#A80036" points="1655,887.5781,1665,891.5781,1655,895.5781,1659,891.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="700" x2="1661" y1="891.5781" y2="891.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="707" y="886.7217">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="725" y="886.7217">create(filePath)</text><rect fill="#FEFECE" filter="url(#f1exjox25vl160)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1667" y="869.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1692.5" y="890.7598">csvEx:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1674" y="908.3691">CsvExporter</text><polygon fill="#A80036" points="1697.5,951.7969,1707.5,955.7969,1697.5,959.7969,1701.5,955.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="700" x2="1703.5" y1="955.7969" y2="955.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="707" y="950.9404">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="725" y="950.9404">exportData(dataMap)</text><path d="M700,998.7969 L700,1024.7969 L1161,1024.7969 L1161,1008.7969 L1151,998.7969 L700,998.7969 " fill="#FBFB77" filter="url(#f1exjox25vl160)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1151,998.7969 L1151,1008.7969 L1161,1008.7969 L1151,998.7969 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440" x="706" y="1017.292">After the time specifiede by period has elapsed the task will be runned again</text><polygon fill="#A80036" points="711,1052.5,701,1056.5,711,1060.5,707,1056.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="705" x2="911" y1="1056.5" y2="1056.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="717" y="1051.6436">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="735" y="1051.6436">run()</text><!--MD5=[870f3da4a7ec9d1fe34f77682987dbf2]
@startuml
autonumber
'hide footbox

participant "Company" as COMP
participant "task:\nExportDailyVaccinatedTask" as TASK
participant "timer:\nTimer" as TIMER
participant "vacCenterSt:\nVaccinationCenterStore" as VCST
participant "vacTypeSt:\nVaccineTypeStore" as VTST
participant "center:\nVaccinationCenter" as CENTER
participant "vacAdmin:\nVaccineAdministration" as VACADMIN
participant "vaccine:\nVaccine" as VAC
participant "csvEx:\nCsvExporter" as CSVEX
participant "vacType:\nVaccineType" as VACTYPE
participant "vacAdminList:\nList<VaccineAdministration>" as VALST
participant "dataMap:\nHashMap<VaccinationCenter,HashMap<VaccineType,Int>>" as VALST


    [o-> COMP : scheduleExportDailyVaccinated(firstTime, period)
    activate COMP

        note right COMP 
            filePath is a property of the system
        end note
        COMP - -> TASK ** : create(filePath, vacCenterSt, vacTypeSt)

        COMP - -> TIMER ** : create()

        COMP -> TIMER : scheduleAtFixedRate(task, firstTime, period)
        activate TIMER
        deactivate TIMER

        note right TASK 
            After the time to the specifiede date and time has elapsed
        end note 
        
    deactivate COMP

        TIMER -> TASK : run()
        activate TIMER
        deactivate TIMER
        activate TASK
            TASK -> VCST : centerLst = getVaccinationCenters()
            activate VCST
            deactivate VCST

            TASK -> VTST : vacTypeLst = getVaccineTypes()
            activate VTST
            deactivate VTST

            loop foreach vaccination center
                TASK -> CENTER : vacAdminList = getVaccinaAdminList()
                activate CENTER
                deactivate CENTER

                loop foreach vaccine administration
                    TASK -> VACADMIN : vaccine = getVaccine()
                    activate VACADMIN
                    deactivate VACADMIN

                    TASK -> VAC : vacType = getVacType()
                    activate VAC
                    deactivate VAC

                    TASK -> TASK : listIncrementVacType(vacType)
                    activate TASK
                    deactivate TASK
                end
            end

            TASK - -> CSVEX ** : create(filePath)
            TASK - -> CSVEX : exportData(dataMap)
            activate CSVEX
            deactivate CSVEX

        deactivate TASK

        note right TASK 
            After the time specifiede by period has elapsed the task will be runned again
        end note 
        TIMER -> TASK : run()
        activate TIMER
        deactivate TIMER
        activate TASK

@enduml 

@startuml
autonumber

participant "Company" as COMP
participant "task:\nExportDailyVaccinatedTask" as TASK
participant "timer:\nTimer" as TIMER
participant "vacCenterSt:\nVaccinationCenterStore" as VCST
participant "vacTypeSt:\nVaccineTypeStore" as VTST
participant "center:\nVaccinationCenter" as CENTER
participant "vacAdmin:\nVaccineAdministration" as VACADMIN
participant "vaccine:\nVaccine" as VAC
participant "csvEx:\nCsvExporter" as CSVEX
participant "vacType:\nVaccineType" as VACTYPE
participant "vacAdminList:\nList<VaccineAdministration>" as VALST
participant "dataMap:\nHashMap<VaccinationCenter,HashMap<VaccineType,Int>>" as VALST


    [o-> COMP : scheduleExportDailyVaccinated(firstTime, period)
    activate COMP

        note right COMP 
            filePath is a property of the system
        end note
        COMP - -> TASK ** : create(filePath, vacCenterSt, vacTypeSt)

        COMP - -> TIMER ** : create()

        COMP -> TIMER : scheduleAtFixedRate(task, firstTime, period)
        activate TIMER
        deactivate TIMER

        note right TASK 
            After the time to the specifiede date and time has elapsed
        end note 
        
    deactivate COMP

        TIMER -> TASK : run()
        activate TIMER
        deactivate TIMER
        activate TASK
            TASK -> VCST : centerLst = getVaccinationCenters()
            activate VCST
            deactivate VCST

            TASK -> VTST : vacTypeLst = getVaccineTypes()
            activate VTST
            deactivate VTST

            loop foreach vaccination center
                TASK -> CENTER : vacAdminList = getVaccinaAdminList()
                activate CENTER
                deactivate CENTER

                loop foreach vaccine administration
                    TASK -> VACADMIN : vaccine = getVaccine()
                    activate VACADMIN
                    deactivate VACADMIN

                    TASK -> VAC : vacType = getVacType()
                    activate VAC
                    deactivate VAC

                    TASK -> TASK : listIncrementVacType(vacType)
                    activate TASK
                    deactivate TASK
                end
            end

            TASK - -> CSVEX ** : create(filePath)
            TASK - -> CSVEX : exportData(dataMap)
            activate CSVEX
            deactivate CSVEX

        deactivate TASK

        note right TASK 
            After the time specifiede by period has elapsed the task will be runned again
        end note 
        TIMER -> TASK : run()
        activate TIMER
        deactivate TIMER
        activate TASK

@enduml 

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>