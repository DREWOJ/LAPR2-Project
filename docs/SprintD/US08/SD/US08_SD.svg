<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3534px" preserveAspectRatio="none" style="width:4109px;height:3534px;background:#FFFFFF;" version="1.1" viewBox="0 0 4109 3534" width="4109px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="3344.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="38" y="91.2969"/><rect fill="#FFFFFF" height="363.1016" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="112.4297"/><rect fill="#FFFFFF" height="554.0273" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="515.2305"/><rect fill="#FFFFFF" height="925.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="1098.3906"/><rect fill="#FFFFFF" height="609.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="2053.3125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="2692.1719"/><rect fill="#FFFFFF" height="510.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="2750.4375"/><rect fill="#FFFFFF" height="145.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="3290.5625"/><rect fill="#FFFFFF" height="120.4297" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="209.6328"/><rect fill="#FFFFFF" height="87.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="359.1953"/><rect fill="#FFFFFF" height="485.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="554.9297"/><rect fill="#FFFFFF" height="123.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="592.0625"/><rect fill="#FFFFFF" height="468.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="1127.5234"/><rect fill="#FFFFFF" height="203.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="1164.6563"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1138" y="1210.8555"/><rect fill="#FFFFFF" height="345.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="1649.1172"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="1808.582"/><rect fill="#FFFFFF" height="544.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="2089.4453"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="2248.9102"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="2388.3086"/><rect fill="#FFFFFF" height="394.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="2779.5703"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="2820.7695"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="3319.6953"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1689" y="3007.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1799" y="240.9297"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1799" y="300.0625"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1911.5" y="685.3281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084.5" y="1526.1523"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084.5" y="2456.5078"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084.5" y="3076.9336"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="744.4609"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="803.5938"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="862.7266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="1279.0547"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="1876.7813"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="2317.1094"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2352" y="921.8594"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2352" y="1338.1875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2475.5" y="626.1953"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2475.5" y="1397.3203"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2475.5" y="1678.25"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2592" y="1456.4531"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2592" y="1737.3828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2718" y="1935.9141"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2718" y="2177.7109"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2718" y="2948.1016"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2823" y="2515.6406"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2976.5" y="980.9922"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3167.5" y="2574.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3305.5" y="2118.5781"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3305.5" y="2888.9688"/><rect height="450.4609" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2780.5" x="10" y="1610.8516"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="581" x2="581" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1133" x2="1133" y1="209.1484" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1693.5" x2="1693.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1803.5" x2="1803.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1916.5" x2="1916.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2089.5" x2="2089.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2242.5" x2="2242.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2356.5" x2="2356.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2480.5" x2="2480.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2596.5" x2="2596.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2722.5" x2="2722.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2827.5" x2="2827.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2981.5" x2="2981.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3172.5" x2="3172.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3310.5" x2="3310.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3464.5" x2="3464.5" y1="3134.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3637.5" x2="3637.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3796.5" x2="3796.5" y1="81.2969" y2="3454.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3993.5" x2="3993.5" y1="81.2969" y2="3454.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="20" y="77.9951">Nurse</text><ellipse cx="43" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43,21.5 L43,48.5 M30,29.5 L56,29.5 M43,48.5 L30,63.5 M43,48.5 L56,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="20" y="3466.0264">Nurse</text><ellipse cx="43" cy="3477.8281" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43,3485.8281 L43,3512.8281 M30,3493.8281 L56,3493.8281 M43,3512.8281 L30,3527.8281 M43,3512.8281 L56,3527.8281 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="256" x="453" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="460" y="69.9951">:RegisterVaccineAdministrationUI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="256" x="453" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="460" y="3473.0264">:RegisterVaccineAdministrationUI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="316" x="975" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="302" x="982" y="3473.0264">:RegisterVaccineAdministrationController</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1637.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1647.5" y="53.6982">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1644.5" y="69.9951">:NurseSession</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1637.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1647.5" y="3473.0264">nurseSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1644.5" y="3489.3232">:NurseSession</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1760.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1771" y="53.6982">company</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1767.5" y="69.9951">:Company</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1760.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1771" y="3473.0264">company</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1767.5" y="3489.3232">:Company</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1857.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1869.5" y="53.6982">snsUserStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1864.5" y="69.9951">:SNSUserStore</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1857.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1869.5" y="3473.0264">snsUserStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1864.5" y="3489.3232">:SNSUserStore</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="1985.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="1996" y="53.6982">vaccineAdministrationList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="1992.5" y="69.9951">:VaccineAdministrationList</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="1985.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="1996" y="3473.0264">vaccineAdministrationList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="1992.5" y="3489.3232">:VaccineAdministrationList</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="2203.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="2215.5" y="53.6982">snsUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2210.5" y="69.9951">:SNSUser</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="2203.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="2215.5" y="3473.0264">snsUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2210.5" y="3489.3232">:SNSUser</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="2291.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="2301.5" y="53.6982">userHealthData</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2298.5" y="69.9951">:UserHealthData</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="2291.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="2301.5" y="3473.0264">userHealthData</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2298.5" y="3489.3232">:UserHealthData</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="2432.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="2445" y="53.6982">arrivalDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="2439.5" y="69.9951">:ArrivalDTO</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="2432.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="2445" y="3473.0264">arrivalDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="2439.5" y="3489.3232">:ArrivalDTO</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2538.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="2549" y="53.6982">appointment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="2545.5" y="69.9951">:Appointment</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2538.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="2549" y="3473.0264">appointment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="2545.5" y="3489.3232">:Appointment</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2665.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2676" y="53.6982">vaccineStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2672.5" y="69.9951">:VaccineStore</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2665.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2676" y="3473.0264">vaccineStore</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2672.5" y="3489.3232">:VaccineStore</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="2790.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="2801" y="53.6982">vaccine</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2797.5" y="69.9951">:Vaccine</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="2790.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="2801" y="3473.0264">vaccine</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2797.5" y="3489.3232">:Vaccine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="2875.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="2882.5" y="69.9951">UserVaccinationInfoMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="2875.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="2882.5" y="3473.0264">UserVaccinationInfoMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="3097.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="3104.5" y="69.9951">DosageInfoMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="3097.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="3104.5" y="3473.0264">DosageInfoMapper</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="3257.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="3270" y="53.6982">vaccineDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="3264.5" y="69.9951">:VaccineDTO</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="3257.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="3270" y="3473.0264">vaccineDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="3264.5" y="3489.3232">:VaccineDTO</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="3373.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="3384" y="3473.0264">vaccineAdministration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="3380.5" y="3489.3232">:VaccineAdministration</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="3565.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="3577" y="53.6982">waitingRoomDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="3572.5" y="69.9951">:List&lt;ArrivalDTO&gt;</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="3565.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="3577" y="3473.0264">waitingRoomDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="3572.5" y="3489.3232">:List&lt;ArrivalDTO&gt;</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="3719.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="3752.5" y="53.6982">vaccinesDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="3726.5" y="69.9951">:List&lt;VaccineDTO&gt;</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="3719.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="3752.5" y="3473.0264">vaccinesDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="3726.5" y="3489.3232">:List&lt;VaccineDTO&gt;</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="3883.5" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="3916.5" y="53.6982">adverseReactionsDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="3890.5" y="69.9951">:List&lt;AdverseReactionDTO&gt;</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="3883.5" y="3453.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="3916.5" y="3473.0264">adverseReactionsDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="3890.5" y="3489.3232">:List&lt;AdverseReactionDTO&gt;</text><rect fill="#FFFFFF" height="3344.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="38" y="91.2969"/><rect fill="#FFFFFF" height="363.1016" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="112.4297"/><rect fill="#FFFFFF" height="554.0273" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="515.2305"/><rect fill="#FFFFFF" height="925.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="1098.3906"/><rect fill="#FFFFFF" height="609.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="2053.3125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="2692.1719"/><rect fill="#FFFFFF" height="510.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="2750.4375"/><rect fill="#FFFFFF" height="145.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="3290.5625"/><rect fill="#FFFFFF" height="120.4297" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="209.6328"/><rect fill="#FFFFFF" height="87.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="359.1953"/><rect fill="#FFFFFF" height="485.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="554.9297"/><rect fill="#FFFFFF" height="123.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="592.0625"/><rect fill="#FFFFFF" height="468.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="1127.5234"/><rect fill="#FFFFFF" height="203.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="1164.6563"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1138" y="1210.8555"/><rect fill="#FFFFFF" height="345.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="1649.1172"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="1808.582"/><rect fill="#FFFFFF" height="544.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="2089.4453"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="2248.9102"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="2388.3086"/><rect fill="#FFFFFF" height="394.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="2779.5703"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1133" y="2820.7695"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="3319.6953"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1689" y="3007.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1799" y="240.9297"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1799" y="300.0625"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1911.5" y="685.3281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084.5" y="1526.1523"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084.5" y="2456.5078"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084.5" y="3076.9336"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="744.4609"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="803.5938"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="862.7266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="1279.0547"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="1876.7813"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2237.5" y="2317.1094"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2352" y="921.8594"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2352" y="1338.1875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2475.5" y="626.1953"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2475.5" y="1397.3203"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2475.5" y="1678.25"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2592" y="1456.4531"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2592" y="1737.3828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2718" y="1935.9141"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2718" y="2177.7109"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2718" y="2948.1016"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2823" y="2515.6406"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2976.5" y="980.9922"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3167.5" y="2574.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3305.5" y="2118.5781"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3305.5" y="2888.9688"/><polygon fill="#181818" points="564,108.4297,574,112.4297,564,116.4297,568,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="55" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="68" y="107.3638">asks to record the administration of a vaccine</text><rect height="53.0703" style="stroke:#000000;stroke-width:1.5;fill:none;" width="363" x="450" y="120.4297"/><path d="M450,120.4297 L518,120.4297 L518,127.4297 L508,137.4297 L450,137.4297 L450,120.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="463" y="134.4966">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167" x="459.5" y="152.5684">nurseSession is obtained in</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="132" x="630.5" y="152.5684">EmployeeLogin_SD</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="762.5" y="152.5684">, and it</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="355" x="454" y="166.5371">contains the vaccination center that the nurse is working at</text><polygon fill="#181818" points="963,195.6328,973,199.6328,963,203.6328,967,199.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="969" y1="199.6328" y2="199.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="593" y="194.5669">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="606" y="194.5669">create(nurseSession)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="316" x="975" y="178.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="302" x="982" y="198.4951">:RegisterVaccineAdministrationController</text><polygon fill="#181818" points="1787,236.9297,1797,240.9297,1787,244.9297,1791,240.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="1793" y1="240.9297" y2="240.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1145" y="235.8638">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1157" y="235.8638">vaccineStore = getVaccineStore()</text><polygon fill="#181818" points="1787,296.0625,1797,300.0625,1787,304.0625,1791,300.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="1793" y1="300.0625" y2="300.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1145" y="294.9966">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="1158" y="294.9966">snsUserStore = getSnsUserStore()</text><polygon fill="#181818" points="1116,355.1953,1126,359.1953,1116,363.1953,1120,359.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="359.1953" y2="359.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="593" y="354.1294">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="606" y="354.1294">getWaitingRoomListFromNurseCenter()</text><rect height="53.0703" style="stroke:#000000;stroke-width:1.5;fill:none;" width="322" x="972" y="367.1953"/><path d="M972,367.1953 L1040,367.1953 L1040,374.1953 L1030,384.1953 L972,384.1953 L972,367.1953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="985" y="381.2622">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="1006" y="399.334">waitingRoomDto is obtained in</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1192" y="399.334">US05_SD</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="1252" y="399.334">,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="214" x="1026" y="413.3027">as this action corresponds to US05</text><polygon fill="#181818" points="597,442.3984,587,446.3984,597,450.3984,593,446.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="1132" y1="446.3984" y2="446.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="603" y="441.3325">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="616" y="441.3325">waitingRoomDto</text><polygon fill="#181818" points="59,471.5313,49,475.5313,59,479.5313,55,475.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="580" y1="475.5313" y2="475.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="65" y="470.4653">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="491" x="78" y="470.4653">shows a list of SNS users that are in the waiting room and asks to select one</text><polygon fill="#181818" points="564,511.2305,574,515.2305,564,519.2305,568,515.2305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="515.2305" y2="515.2305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="55" y="510.1646">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="68" y="510.1646">selects an SNS user</text><path d="M591,488.5313 L591,528.5313 L1016,528.5313 L1016,498.5313 L1006,488.5313 L591,488.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1006,488.5313 L1006,498.5313 L1016,498.5313 L1006,488.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="597" y="505.5981">As US05 returns a list of Arrival DTOs (waitingRoomDto), the UI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372" x="597" y="520.731">sends the Arrival DTO that contains the selected SNS user</text><polygon fill="#181818" points="1116,550.9297,1126,554.9297,1116,558.9297,1120,554.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="554.9297" y2="554.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="593" y="549.8638">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="606" y="549.8638">getUserVaccinationInfoFromArrival(arrivalDto)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="1185" y1="579.0625" y2="579.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1185" x2="1185" y1="579.0625" y2="592.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144" x2="1185" y1="592.0625" y2="592.0625"/><polygon fill="#181818" points="1154,588.0625,1144,592.0625,1154,596.0625,1150,592.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1150" y="573.9966">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="1173" y="573.9966">snsUser = getSnsUserFromArrival(arrivalDto)</text><polygon fill="#181818" points="2463.5,622.1953,2473.5,626.1953,2463.5,630.1953,2467.5,626.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="2469.5" y1="626.1953" y2="626.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="621.1294">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="1172" y="621.1294">snsNumber = getSnsUserNumber()</text><polygon fill="#181818" points="1899.5,681.3281,1909.5,685.3281,1899.5,689.3281,1903.5,685.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="1905.5" y1="685.3281" y2="685.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="680.2622">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1172" y="680.2622">findSNSUserByNumber(snsNumber)</text><polygon fill="#181818" points="2225.5,740.4609,2235.5,744.4609,2225.5,748.4609,2229.5,744.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2231.5" y1="744.4609" y2="744.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1145" y="739.395">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1166" y="739.395">name = getName()</text><polygon fill="#181818" points="2225.5,799.5938,2235.5,803.5938,2225.5,807.5938,2229.5,803.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2231.5" y1="803.5938" y2="803.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="798.5278">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1167" y="798.5278">age = getAge()</text><polygon fill="#181818" points="2225.5,858.7266,2235.5,862.7266,2225.5,866.7266,2229.5,862.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2231.5" y1="862.7266" y2="862.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="857.6606">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1167" y="857.6606">userHealthData = getUserHealthData()</text><polygon fill="#181818" points="2340,917.8594,2350,921.8594,2340,925.8594,2344,921.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2346" y1="921.8594" y2="921.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="916.7935">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="1167" y="916.7935">adverseReactionsDto = getAdverseReactions()</text><polygon fill="#181818" points="2964.5,976.9922,2974.5,980.9922,2964.5,984.9922,2968.5,980.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2970.5" y1="980.9922" y2="980.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="975.9263">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="1167" y="975.9263">userVaccinationInfoDto = toDto(name, age, adverseReactionsDto)</text><polygon fill="#181818" points="597,1036.125,587,1040.125,597,1044.125,593,1040.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="1132" y1="1040.125" y2="1040.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="603" y="1035.0591">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="625" y="1035.0591">userVaccinationInfoDto</text><polygon fill="#181818" points="59,1065.2578,49,1069.2578,59,1073.2578,55,1069.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="580" y1="1069.2578" y2="1069.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="65" y="1064.1919">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391" x="87" y="1064.1919">shows SNS user's name, age and previous adverse reactions</text><polygon fill="#181818" points="564,1094.3906,574,1098.3906,564,1102.3906,568,1098.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="1098.3906" y2="1098.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55" y="1093.3247">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="78" y="1093.3247">asks to proceed</text><polygon fill="#181818" points="1116,1123.5234,1126,1127.5234,1116,1131.5234,1120,1127.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="1127.5234" y2="1127.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="593" y="1122.4575">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="615" y="1122.4575">getLastTakenVaccineFromArrival(arrivalDto)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="1185" y1="1151.6563" y2="1151.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1185" x2="1185" y1="1151.6563" y2="1164.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144" x2="1185" y1="1164.6563" y2="1164.6563"/><polygon fill="#181818" points="1154,1160.6563,1144,1164.6563,1154,1168.6563,1150,1164.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="1146.5903">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="515" x="1172" y="1146.5903">vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1148" x2="1190" y1="1202.8555" y2="1202.8555"/><line style="stroke:#181818;stroke-width:1.0;" x1="1190" x2="1190" y1="1202.8555" y2="1215.8555"/><line style="stroke:#181818;stroke-width:1.0;" x1="1149" x2="1190" y1="1215.8555" y2="1215.8555"/><polygon fill="#181818" points="1159,1211.8555,1149,1215.8555,1159,1219.8555,1155,1215.8555" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1155" y="1197.7896">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="1176" y="1197.7896">snsUser = getSnsUserFromArrival(arrivalDto)</text><path d="M1477,1182.6563 L1477,1222.6563 L1695,1222.6563 L1695,1192.6563 L1685,1182.6563 L1477,1182.6563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1685,1182.6563 L1685,1192.6563 L1695,1192.6563 L1685,1182.6563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1483" y="1199.7231">Steps for getting the SNS user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1483" y="1214.856">are specified in message 10</text><polygon fill="#181818" points="2225.5,1275.0547,2235.5,1279.0547,2225.5,1283.0547,2229.5,1279.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="2231.5" y1="1279.0547" y2="1279.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="1273.9888">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1172" y="1273.9888">userHealthData = getUserHealthData()</text><polygon fill="#181818" points="2340,1334.1875,2350,1338.1875,2340,1342.1875,2344,1338.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="2346" y1="1338.1875" y2="1338.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="1333.1216">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1172" y="1333.1216">getVaccineAdministrationList()</text><polygon fill="#181818" points="2463.5,1393.3203,2473.5,1397.3203,2463.5,1401.3203,2467.5,1397.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2469.5" y1="1397.3203" y2="1397.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="1392.2544">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1167" y="1392.2544">appointment = getAppointment()</text><polygon fill="#181818" points="2580,1452.4531,2590,1456.4531,2580,1460.4531,2584,1456.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2586" y1="1456.4531" y2="1456.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="1451.3872">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1167" y="1451.3872">vaccineType = getVaccineType()</text><polygon fill="#181818" points="2072.5,1522.1523,2082.5,1526.1523,2072.5,1530.1523,2076.5,1526.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2078.5" y1="1526.1523" y2="1526.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="1521.0864">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416" x="1167" y="1521.0864">vaccineDto = getLastTakenVaccineByVaccineType(vaccineType)</text><path d="M889,1499.4531 L889,1539.4531 L1123,1539.4531 L1123,1509.4531 L1113,1499.4531 L889,1499.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1113,1499.4531 L1113,1509.4531 L1123,1509.4531 L1113,1499.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="895" y="1516.52">If no vaccine has been taken yet,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="895" y="1531.6528">vaccineDto is null</text><polygon fill="#181818" points="597,1591.8516,587,1595.8516,597,1599.8516,593,1595.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="1132" y1="1595.8516" y2="1595.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="603" y="1590.7856">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="625" y="1590.7856">vaccineDto</text><path d="M10,1610.8516 L76,1610.8516 L76,1617.9844 L66,1627.9844 L10,1627.9844 L10,1610.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="450.4609" style="stroke:#000000;stroke-width:1.5;" width="2780.5" x="10" y="1610.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="25" y="1623.9185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="170" x="91" y="1623.062">[message 25 returns null]</text><polygon fill="#181818" points="1116,1645.1172,1126,1649.1172,1116,1653.1172,1120,1649.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="1649.1172" y2="1649.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="593" y="1644.0513">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="355" x="615" y="1644.0513">getListOfVaccinesWithVaccineTypeOfArrival(arrivalDto)</text><polygon fill="#181818" points="2463.5,1674.25,2473.5,1678.25,2463.5,1682.25,2467.5,1678.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2469.5" y1="1678.25" y2="1678.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1145" y="1673.1841">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1166" y="1673.1841">appointment = getAppointment()</text><polygon fill="#181818" points="2580,1733.3828,2590,1737.3828,2580,1741.3828,2584,1737.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2586" y1="1737.3828" y2="1737.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1145" y="1732.3169">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1166" y="1732.3169">vaccineType = getVaccineType()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="1185" y1="1800.582" y2="1800.582"/><line style="stroke:#181818;stroke-width:1.0;" x1="1185" x2="1185" y1="1800.582" y2="1813.582"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144" x2="1185" y1="1813.582" y2="1813.582"/><polygon fill="#181818" points="1154,1809.582,1144,1813.582,1154,1817.582,1150,1813.582" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1150" y="1795.5161">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="1170" y="1795.5161">snsUser = getSnsUserFromArrival(arrivalDto)</text><path d="M1471,1780.3828 L1471,1820.3828 L1689,1820.3828 L1689,1790.3828 L1679,1780.3828 L1471,1780.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1679,1780.3828 L1679,1790.3828 L1689,1790.3828 L1679,1780.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1477" y="1797.4497">Steps for getting the SNS user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1477" y="1812.5825">are specified in message 10</text><polygon fill="#181818" points="2225.5,1872.7813,2235.5,1876.7813,2225.5,1880.7813,2229.5,1876.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2231.5" y1="1876.7813" y2="1876.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1145" y="1871.7153">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1166" y="1871.7153">age = getAge()</text><polygon fill="#181818" points="2706,1931.9141,2716,1935.9141,2706,1939.9141,2710,1935.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2712" y1="1935.9141" y2="1935.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1145" y="1930.8481">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="561" x="1166" y="1930.8481">vaccinesDto = getVaccinesByVaccineTypeWithAdminProcessForAge(vaccineType, age)</text><polygon fill="#181818" points="597,1991.0469,587,1995.0469,597,1999.0469,593,1995.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="1132" y1="1995.0469" y2="1995.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="603" y="1989.981">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="624" y="1989.981">vaccinesDto</text><polygon fill="#181818" points="59,2020.1797,49,2024.1797,59,2028.1797,55,2024.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="580" y1="2024.1797" y2="2024.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="65" y="2019.1138">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="445" x="86" y="2019.1138">shows a list of possible vaccines to administer and asks to select one</text><polygon fill="#181818" points="564,2049.3125,574,2053.3125,564,2057.3125,568,2053.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="2053.3125" y2="2053.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="55" y="2048.2466">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="76" y="2048.2466">selects a vaccine</text><polygon fill="#181818" points="1116,2085.4453,1126,2089.4453,1116,2093.4453,1120,2089.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="2089.4453" y2="2089.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="593" y="2084.3794">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="614" y="2084.3794">getDosageInfoFromVaccineBySnsUser(vaccineDto, arrivalDto)</text><polygon fill="#181818" points="3293.5,2114.5781,3303.5,2118.5781,3293.5,2122.5781,3297.5,2118.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="3299.5" y1="2118.5781" y2="2118.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1145" y="2113.5122">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1168" y="2113.5122">id = getId()</text><polygon fill="#181818" points="2706,2173.7109,2716,2177.7109,2706,2181.7109,2710,2177.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2712" y1="2177.7109" y2="2177.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="2172.645">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1167" y="2172.645">vaccine = findVaccineById(id)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="1185" y1="2240.9102" y2="2240.9102"/><line style="stroke:#181818;stroke-width:1.0;" x1="1185" x2="1185" y1="2240.9102" y2="2253.9102"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144" x2="1185" y1="2253.9102" y2="2253.9102"/><polygon fill="#181818" points="1154,2249.9102,1144,2253.9102,1154,2257.9102,1150,2253.9102" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="2235.8442">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="1172" y="2235.8442">snsUser = getSnsUserFromArrival(arrivalDto)</text><path d="M1473,2220.7109 L1473,2260.7109 L1691,2260.7109 L1691,2230.7109 L1681,2220.7109 L1473,2220.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1681,2220.7109 L1681,2230.7109 L1691,2230.7109 L1681,2220.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1479" y="2237.7778">Steps for getting the SNS user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1479" y="2252.9106">are specified in message 10</text><polygon fill="#181818" points="2225.5,2313.1094,2235.5,2317.1094,2225.5,2321.1094,2229.5,2317.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2231.5" y1="2317.1094" y2="2317.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1145" y="2312.0435">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1166" y="2312.0435">age = getAge()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="1185" y1="2380.3086" y2="2380.3086"/><line style="stroke:#181818;stroke-width:1.0;" x1="1185" x2="1185" y1="2380.3086" y2="2393.3086"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144" x2="1185" y1="2393.3086" y2="2393.3086"/><polygon fill="#181818" points="1154,2389.3086,1144,2393.3086,1154,2397.3086,1150,2393.3086" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="2375.2427">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="515" x="1172" y="2375.2427">vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)</text><path d="M1699,2360.1094 L1699,2400.1094 L2005,2400.1094 L2005,2370.1094 L1995,2360.1094 L1699,2360.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1995,2360.1094 L1995,2370.1094 L2005,2370.1094 L1995,2360.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="1705" y="2377.1763">Steps for getting the vaccine administration</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1705" y="2392.3091">list are specified in message 22</text><polygon fill="#181818" points="2072.5,2452.5078,2082.5,2456.5078,2072.5,2460.5078,2076.5,2456.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2078.5" y1="2456.5078" y2="2456.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="2451.4419">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359" x="1167" y="2451.4419">doseNumber = getNextDoseNumberOfVaccine(vaccine)</text><polygon fill="#181818" points="2811,2511.6406,2821,2515.6406,2811,2519.6406,2815,2515.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2817" y1="2515.6406" y2="2515.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="2510.5747">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="1167" y="2510.5747">dosage = getDosageByDoseNumberAndAge(doseNumber, age)</text><polygon fill="#181818" points="3155.5,2570.7734,3165.5,2574.7734,3155.5,2578.7734,3159.5,2574.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="3161.5" y1="2574.7734" y2="2574.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="2569.7075">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="1167" y="2569.7075">dosageInfoDto = toDto(doseNumber, dosage)</text><polygon fill="#181818" points="597,2629.9063,587,2633.9063,597,2637.9063,593,2633.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="1132" y1="2633.9063" y2="2633.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="603" y="2628.8403">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="625" y="2628.8403">dosageInfoDto</text><polygon fill="#181818" points="59,2659.0391,49,2663.0391,59,2667.0391,55,2663.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="580" y1="2663.0391" y2="2663.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="65" y="2657.9731">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="87" y="2657.9731">shows dose number and dosage</text><polygon fill="#181818" points="564,2688.1719,574,2692.1719,564,2696.1719,568,2692.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="2692.1719" y2="2692.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55" y="2687.106">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="78" y="2687.106">asks to proceed</text><polygon fill="#181818" points="59,2717.3047,49,2721.3047,59,2725.3047,55,2721.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="580" y1="2721.3047" y2="2721.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="65" y="2716.2388">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="87" y="2716.2388">requests data (lot number)</text><polygon fill="#181818" points="564,2746.4375,574,2750.4375,564,2754.4375,568,2750.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="2750.4375" y2="2750.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="55" y="2745.3716">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="77" y="2745.3716">types requested data</text><polygon fill="#181818" points="1116,2775.5703,1126,2779.5703,1116,2783.5703,1120,2779.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="2779.5703" y2="2779.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="593" y="2774.5044">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502" x="614" y="2774.5044">createVaccineAdministration(arrivalDto, vaccineDto, lotNumber, doseNumber)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1143" x2="1185" y1="2812.7695" y2="2812.7695"/><line style="stroke:#181818;stroke-width:1.0;" x1="1185" x2="1185" y1="2812.7695" y2="2825.7695"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144" x2="1185" y1="2825.7695" y2="2825.7695"/><polygon fill="#181818" points="1154,2821.7695,1144,2825.7695,1154,2829.7695,1150,2825.7695" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1150" y="2807.7036">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="515" x="1172" y="2807.7036">vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)</text><path d="M1699,2792.5703 L1699,2832.5703 L2005,2832.5703 L2005,2802.5703 L1995,2792.5703 L1699,2792.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1995,2792.5703 L1995,2802.5703 L2005,2802.5703 L1995,2792.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="1705" y="2809.6372">Steps for getting the vaccine administration</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1705" y="2824.77">list are specified in message 22</text><polygon fill="#181818" points="3293.5,2884.9688,3303.5,2888.9688,3293.5,2892.9688,3297.5,2888.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="3299.5" y1="2888.9688" y2="2888.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="2883.9028">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1167" y="2883.9028">id = getId()</text><polygon fill="#181818" points="2706,2944.1016,2716,2948.1016,2706,2952.1016,2710,2948.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2712" y1="2948.1016" y2="2948.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="2943.0356">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1167" y="2943.0356">vaccine = findVaccineById(id)</text><polygon fill="#181818" points="1677,3003.2344,1687,3007.2344,1677,3011.2344,1681,3007.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="1683" y1="3007.2344" y2="3007.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="3002.1685">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="1167" y="3002.1685">vaccinationCenter = getVaccinationCenter()</text><polygon fill="#181818" points="2072.5,3072.9336,2082.5,3076.9336,2072.5,3080.9336,2076.5,3076.9336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1138" x2="2078.5" y1="3076.9336" y2="3076.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1145" y="3071.8677">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="788" x="1167" y="3071.8677">vaccineAdministration = createVaccineAdministration(snsUser, vaccine, lotNumber, doseNumber, vaccinationCenter, date)</text><path d="M867,3050.2344 L867,3090.2344 L1123,3090.2344 L1123,3060.2344 L1113,3050.2344 L867,3050.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1113,3050.2344 L1113,3060.2344 L1123,3060.2344 L1113,3050.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="873" y="3067.3013">date represents a Calendar object</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="873" y="3082.4341">containing the current date and time</text><polygon fill="#181818" points="3361.5,3112.6328,3371.5,3116.6328,3361.5,3120.6328,3365.5,3116.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2089.5" x2="3367.5" y1="3116.6328" y2="3116.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2096.5" y="3111.5669">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="485" x="2118.5" y="3111.5669">create(snsUser, vaccine, lotNumber, doseNumber, vaccinationCenter, date)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="3373.5" y="3095.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="3384" y="3115.4951">vaccineAdministration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="3380.5" y="3131.792">:VaccineAdministration</text><polygon fill="#181818" points="2077.5,3170.2266,2087.5,3174.2266,2077.5,3178.2266,2081.5,3174.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1133" x2="2083.5" y1="3174.2266" y2="3174.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1140" y="3169.1606">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="1163" y="3169.1606">validateVaccineAdministration(vaccineAdministration)</text><rect height="53.0703" style="stroke:#000000;stroke-width:1.5;fill:none;" width="342" x="1982.5" y="3182.2266"/><path d="M1982.5,3182.2266 L2050.5,3182.2266 L2050.5,3189.2266 L2040.5,3199.2266 L1982.5,3199.2266 L1982.5,3182.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="1995.5" y="3196.2935">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="278" x="2014.5" y="3214.3652">Steps for validating the vaccine administration</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="334" x="1986.5" y="3228.334">are specified in US08_ValidateVaccineAdministrationSD</text><polygon fill="#181818" points="59,3257.4297,49,3261.4297,59,3265.4297,55,3261.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="580" y1="3261.4297" y2="3261.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="65" y="3256.3638">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="87" y="3256.3638">shows all data and requests confirmation</text><polygon fill="#181818" points="564,3286.5625,574,3290.5625,564,3294.5625,568,3290.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48" x2="570" y1="3290.5625" y2="3290.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="55" y="3285.4966">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="77" y="3285.4966">confirms the data</text><polygon fill="#181818" points="1116,3315.6953,1126,3319.6953,1116,3323.6953,1120,3319.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1122" y1="3319.6953" y2="3319.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="593" y="3314.6294">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="614" y="3314.6294">save()</text><polygon fill="#181818" points="2077.5,3344.8281,2087.5,3348.8281,2077.5,3352.8281,2081.5,3348.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1133" x2="2083.5" y1="3348.8281" y2="3348.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1140" y="3343.7622">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1162" y="3343.7622">saveVaccineAdministration(vaccineAdministration)</text><rect height="53.0703" style="stroke:#000000;stroke-width:1.5;fill:none;" width="324" x="1982.5" y="3356.8281"/><path d="M1982.5,3356.8281 L2050.5,3356.8281 L2050.5,3363.8281 L2040.5,3373.8281 L1982.5,3373.8281 L1982.5,3356.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="1995.5" y="3370.895">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="260" x="2014.5" y="3388.9668">Steps for saving the vaccine administration</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="316" x="1986.5" y="3402.9355">are specified in US08_SaveVaccineAdministrationSD</text><polygon fill="#181818" points="54,3432.0313,44,3436.0313,54,3440.0313,50,3436.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="580" y1="3436.0313" y2="3436.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60" y="3430.9653">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="82" y="3430.9653">informs operation success</text><!--MD5=[8532ffaab8d72dc685e094a7c297766a]
@startuml
autonumber
' hide footbox
actor "Nurse" as nurse

participant ":RegisterVaccineAdministrationUI" as ui
participant ":RegisterVaccineAdministrationController" as controller
participant "nurseSession\n:NurseSession" as nurseSession
participant "company\n:Company" as company
participant "snsUserStore\n:SNSUserStore" as snsUserStore
participant "vaccineAdministrationList\n:VaccineAdministrationList" as vaccineAdministrationList
participant "snsUser\n:SNSUser" as snsUser
participant "userHealthData\n:UserHealthData" as userHealthData
participant "arrivalDto\n:ArrivalDTO" as arrivalDto
participant "appointment\n:Appointment" as appointment
participant "vaccineStore\n:VaccineStore" as vaccineStore
participant "vaccine\n:Vaccine" as vaccine
participant "UserVaccinationInfoMapper" as userVaccinationInfoMapper
participant "DosageInfoMapper" as dosageInfoMapper
participant "vaccineDto\n:VaccineDTO" as vaccineDto
participant "vaccineAdministration\n:VaccineAdministration" as vaccineAdministration

participant "waitingRoomDto\n:List<ArrivalDTO>" as waitingRoomDto
' participant "vaccines\n:List<Vaccine>" as vaccinesList
participant "vaccinesDto\n:List<VaccineDTO>" as vaccinesDtoList
participant "adverseReactionsDto\n:List<AdverseReactionDTO>" as adverseReactionsList

activate nurse

nurse -> ui : asks to record the administration of a vaccine

activate ui
  ref over ui
    nurseSession is obtained in **EmployeeLogin_SD**, and it
    contains the vaccination center that the nurse is working at
  end ref
  ui -> controller** : create(nurseSession)
  activate controller
    controller -> company : vaccineStore = getVaccineStore()
    activate company
    deactivate company
    controller -> company : snsUserStore = getSnsUserStore()
    activate company
    deactivate company
  deactivate controller
  ui -> controller : getWaitingRoomListFromNurseCenter()
  activate controller
    ref over controller
      waitingRoomDto is obtained in **US05_SD**, 
      as this action corresponds to US05
    end ref
    controller - -> ui : waitingRoomDto
  deactivate controller
  ui - -> nurse : shows a list of SNS users that are in the waiting room and asks to select one
deactivate ui

nurse -> ui : selects an SNS user

activate ui
  note right
    As US05 returns a list of Arrival DTOs (waitingRoomDto), the UI
    sends the Arrival DTO that contains the selected SNS user
  end note
  ui -> controller : getUserVaccinationInfoFromArrival(arrivalDto)
  activate controller
    controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
    activate controller
      controller -> arrivalDto : snsNumber = getSnsUserNumber()
      activate arrivalDto
      deactivate arrivalDto
      controller -> snsUserStore : findSNSUserByNumber(snsNumber)
      activate snsUserStore
      deactivate snsUserStore
    deactivate controller
    controller -> snsUser : name = getName()
    activate snsUser
    deactivate snsUser
    controller -> snsUser : age = getAge()
    activate snsUser
    deactivate snsUser
    controller -> snsUser : userHealthData = getUserHealthData()
    activate snsUser
    deactivate snsUser
    controller -> userHealthData : adverseReactionsDto = getAdverseReactions()
    activate userHealthData
    deactivate userHealthData
    controller -> userVaccinationInfoMapper : userVaccinationInfoDto = toDto(name, age, adverseReactionsDto)
    activate userVaccinationInfoMapper
    deactivate userVaccinationInfoMapper
    controller - -> ui : userVaccinationInfoDto
  deactivate controller
  ui - -> nurse : shows SNS user's name, age and previous adverse reactions
deactivate ui

nurse -> ui : asks to proceed

activate ui
  ui -> controller : getLastTakenVaccineFromArrival(arrivalDto)
  activate controller
    controller -> controller : vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)
    activate controller
      controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
      activate controller
      deactivate controller
      note right
        Steps for getting the SNS user 
        are specified in message 10
      end note
      controller -> snsUser : userHealthData = getUserHealthData()
      activate snsUser
      deactivate snsUser
      controller -> userHealthData : getVaccineAdministrationList()
      activate userHealthData
      deactivate userHealthData
    deactivate controller
    controller -> arrivalDto : appointment = getAppointment()
    activate arrivalDto
    deactivate arrivalDto
    controller -> appointment : vaccineType = getVaccineType()
    activate appointment
    deactivate appointment
    controller -> vaccineAdministrationList : vaccineDto = getLastTakenVaccineByVaccineType(vaccineType)
    activate vaccineAdministrationList
    deactivate vaccineAdministrationList
    note left
      If no vaccine has been taken yet,
      vaccineDto is null
    end note
    controller - -> ui : vaccineDto
  deactivate controller
  alt message 25 returns null
  ui -> controller : getListOfVaccinesWithVaccineTypeOfArrival(arrivalDto)
  activate controller
    controller -> arrivalDto : appointment = getAppointment()
    activate arrivalDto
    deactivate arrivalDto
    controller -> appointment : vaccineType = getVaccineType()
    activate appointment
    deactivate appointment
    controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
      Steps for getting the SNS user 
      are specified in message 10
    end note
    controller -> snsUser : age = getAge()
    activate snsUser
    deactivate snsUser
    controller -> vaccineStore : vaccinesDto = getVaccinesByVaccineTypeWithAdminProcessForAge(vaccineType, age)
    activate vaccineStore
    deactivate vaccineStore
    controller - -> ui : vaccinesDto
  deactivate controller
  ui - -> nurse : shows a list of possible vaccines to administer and asks to select one
deactivate ui

nurse -> ui : selects a vaccine

activate ui
  end
  ui -> controller : getDosageInfoFromVaccineBySnsUser(vaccineDto, arrivalDto)
  activate controller
    controller -> vaccineDto : id = getId()
    activate vaccineDto
    deactivate vaccineDto
    controller -> vaccineStore : vaccine = findVaccineById(id)
    activate vaccineStore
    deactivate vaccineStore
    controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
      Steps for getting the SNS user 
      are specified in message 10
    end note
    controller -> snsUser : age = getAge()
    activate snsUser
    deactivate snsUser
    controller -> controller : vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
        Steps for getting the vaccine administration 
        list are specified in message 22
    end note
    controller -> vaccineAdministrationList : doseNumber = getNextDoseNumberOfVaccine(vaccine)
    activate vaccineAdministrationList
    deactivate vaccineAdministrationList
    controller -> vaccine : dosage = getDosageByDoseNumberAndAge(doseNumber, age)
    activate vaccine
    deactivate vaccine
    controller -> dosageInfoMapper : dosageInfoDto = toDto(doseNumber, dosage)
    activate dosageInfoMapper
    deactivate dosageInfoMapper
    controller - -> ui : dosageInfoDto
  deactivate controller
  ui - -> nurse : shows dose number and dosage
deactivate ui

nurse -> ui : asks to proceed

activate ui
  ui - -> nurse : requests data (lot number)
deactivate ui

nurse -> ui : types requested data

activate ui 
  ui -> controller : createVaccineAdministration(arrivalDto, vaccineDto, lotNumber, doseNumber)
  activate controller
    controller -> controller : vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
        Steps for getting the vaccine administration 
        list are specified in message 22
    end note
    controller -> vaccineDto : id = getId()
    activate vaccineDto
    deactivate vaccineDto
    controller -> vaccineStore : vaccine = findVaccineById(id)
    activate vaccineStore
    deactivate vaccineStore
    controller -> nurseSession : vaccinationCenter = getVaccinationCenter()
    activate nurseSession
    deactivate nurseSession
    controller -> vaccineAdministrationList : vaccineAdministration = createVaccineAdministration(snsUser, vaccine, lotNumber, doseNumber, vaccinationCenter, date)
    note left
      date represents a Calendar object
      containing the current date and time
    end note
    activate vaccineAdministrationList
      vaccineAdministrationList -> vaccineAdministration** : create(snsUser, vaccine, lotNumber, doseNumber, vaccinationCenter, date)
    deactivate vaccineAdministrationList
    controller -> vaccineAdministrationList : validateVaccineAdministration(vaccineAdministration)
    ref over vaccineAdministrationList
      Steps for validating the vaccine administration
      are specified in US08_ValidateVaccineAdministrationSD
    end ref
  deactivate controller
  ui - -> nurse : shows all data and requests confirmation
deactivate ui

nurse -> ui : confirms the data

activate ui
  ui -> controller : save()
  activate controller 
    controller -> vaccineAdministrationList : saveVaccineAdministration(vaccineAdministration)
    ref over vaccineAdministrationList
      Steps for saving the vaccine administration
      are specified in US08_SaveVaccineAdministrationSD
    end ref
  deactivate controller
  ui - -> nurse: informs operation success
deactivate ui

deactivate nurse
@enduml

@startuml
autonumber
actor "Nurse" as nurse

participant ":RegisterVaccineAdministrationUI" as ui
participant ":RegisterVaccineAdministrationController" as controller
participant "nurseSession\n:NurseSession" as nurseSession
participant "company\n:Company" as company
participant "snsUserStore\n:SNSUserStore" as snsUserStore
participant "vaccineAdministrationList\n:VaccineAdministrationList" as vaccineAdministrationList
participant "snsUser\n:SNSUser" as snsUser
participant "userHealthData\n:UserHealthData" as userHealthData
participant "arrivalDto\n:ArrivalDTO" as arrivalDto
participant "appointment\n:Appointment" as appointment
participant "vaccineStore\n:VaccineStore" as vaccineStore
participant "vaccine\n:Vaccine" as vaccine
participant "UserVaccinationInfoMapper" as userVaccinationInfoMapper
participant "DosageInfoMapper" as dosageInfoMapper
participant "vaccineDto\n:VaccineDTO" as vaccineDto
participant "vaccineAdministration\n:VaccineAdministration" as vaccineAdministration

participant "waitingRoomDto\n:List<ArrivalDTO>" as waitingRoomDto
participant "vaccinesDto\n:List<VaccineDTO>" as vaccinesDtoList
participant "adverseReactionsDto\n:List<AdverseReactionDTO>" as adverseReactionsList

activate nurse

nurse -> ui : asks to record the administration of a vaccine

activate ui
  ref over ui
    nurseSession is obtained in **EmployeeLogin_SD**, and it
    contains the vaccination center that the nurse is working at
  end ref
  ui -> controller** : create(nurseSession)
  activate controller
    controller -> company : vaccineStore = getVaccineStore()
    activate company
    deactivate company
    controller -> company : snsUserStore = getSnsUserStore()
    activate company
    deactivate company
  deactivate controller
  ui -> controller : getWaitingRoomListFromNurseCenter()
  activate controller
    ref over controller
      waitingRoomDto is obtained in **US05_SD**, 
      as this action corresponds to US05
    end ref
    controller - -> ui : waitingRoomDto
  deactivate controller
  ui - -> nurse : shows a list of SNS users that are in the waiting room and asks to select one
deactivate ui

nurse -> ui : selects an SNS user

activate ui
  note right
    As US05 returns a list of Arrival DTOs (waitingRoomDto), the UI
    sends the Arrival DTO that contains the selected SNS user
  end note
  ui -> controller : getUserVaccinationInfoFromArrival(arrivalDto)
  activate controller
    controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
    activate controller
      controller -> arrivalDto : snsNumber = getSnsUserNumber()
      activate arrivalDto
      deactivate arrivalDto
      controller -> snsUserStore : findSNSUserByNumber(snsNumber)
      activate snsUserStore
      deactivate snsUserStore
    deactivate controller
    controller -> snsUser : name = getName()
    activate snsUser
    deactivate snsUser
    controller -> snsUser : age = getAge()
    activate snsUser
    deactivate snsUser
    controller -> snsUser : userHealthData = getUserHealthData()
    activate snsUser
    deactivate snsUser
    controller -> userHealthData : adverseReactionsDto = getAdverseReactions()
    activate userHealthData
    deactivate userHealthData
    controller -> userVaccinationInfoMapper : userVaccinationInfoDto = toDto(name, age, adverseReactionsDto)
    activate userVaccinationInfoMapper
    deactivate userVaccinationInfoMapper
    controller - -> ui : userVaccinationInfoDto
  deactivate controller
  ui - -> nurse : shows SNS user's name, age and previous adverse reactions
deactivate ui

nurse -> ui : asks to proceed

activate ui
  ui -> controller : getLastTakenVaccineFromArrival(arrivalDto)
  activate controller
    controller -> controller : vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)
    activate controller
      controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
      activate controller
      deactivate controller
      note right
        Steps for getting the SNS user 
        are specified in message 10
      end note
      controller -> snsUser : userHealthData = getUserHealthData()
      activate snsUser
      deactivate snsUser
      controller -> userHealthData : getVaccineAdministrationList()
      activate userHealthData
      deactivate userHealthData
    deactivate controller
    controller -> arrivalDto : appointment = getAppointment()
    activate arrivalDto
    deactivate arrivalDto
    controller -> appointment : vaccineType = getVaccineType()
    activate appointment
    deactivate appointment
    controller -> vaccineAdministrationList : vaccineDto = getLastTakenVaccineByVaccineType(vaccineType)
    activate vaccineAdministrationList
    deactivate vaccineAdministrationList
    note left
      If no vaccine has been taken yet,
      vaccineDto is null
    end note
    controller - -> ui : vaccineDto
  deactivate controller
  alt message 25 returns null
  ui -> controller : getListOfVaccinesWithVaccineTypeOfArrival(arrivalDto)
  activate controller
    controller -> arrivalDto : appointment = getAppointment()
    activate arrivalDto
    deactivate arrivalDto
    controller -> appointment : vaccineType = getVaccineType()
    activate appointment
    deactivate appointment
    controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
      Steps for getting the SNS user 
      are specified in message 10
    end note
    controller -> snsUser : age = getAge()
    activate snsUser
    deactivate snsUser
    controller -> vaccineStore : vaccinesDto = getVaccinesByVaccineTypeWithAdminProcessForAge(vaccineType, age)
    activate vaccineStore
    deactivate vaccineStore
    controller - -> ui : vaccinesDto
  deactivate controller
  ui - -> nurse : shows a list of possible vaccines to administer and asks to select one
deactivate ui

nurse -> ui : selects a vaccine

activate ui
  end
  ui -> controller : getDosageInfoFromVaccineBySnsUser(vaccineDto, arrivalDto)
  activate controller
    controller -> vaccineDto : id = getId()
    activate vaccineDto
    deactivate vaccineDto
    controller -> vaccineStore : vaccine = findVaccineById(id)
    activate vaccineStore
    deactivate vaccineStore
    controller -> controller : snsUser = getSnsUserFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
      Steps for getting the SNS user 
      are specified in message 10
    end note
    controller -> snsUser : age = getAge()
    activate snsUser
    deactivate snsUser
    controller -> controller : vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
        Steps for getting the vaccine administration 
        list are specified in message 22
    end note
    controller -> vaccineAdministrationList : doseNumber = getNextDoseNumberOfVaccine(vaccine)
    activate vaccineAdministrationList
    deactivate vaccineAdministrationList
    controller -> vaccine : dosage = getDosageByDoseNumberAndAge(doseNumber, age)
    activate vaccine
    deactivate vaccine
    controller -> dosageInfoMapper : dosageInfoDto = toDto(doseNumber, dosage)
    activate dosageInfoMapper
    deactivate dosageInfoMapper
    controller - -> ui : dosageInfoDto
  deactivate controller
  ui - -> nurse : shows dose number and dosage
deactivate ui

nurse -> ui : asks to proceed

activate ui
  ui - -> nurse : requests data (lot number)
deactivate ui

nurse -> ui : types requested data

activate ui 
  ui -> controller : createVaccineAdministration(arrivalDto, vaccineDto, lotNumber, doseNumber)
  activate controller
    controller -> controller : vaccineAdministrationList = getVaccineAdministrationListFromArrival(arrivalDto)
    activate controller
    deactivate controller
    note right
        Steps for getting the vaccine administration 
        list are specified in message 22
    end note
    controller -> vaccineDto : id = getId()
    activate vaccineDto
    deactivate vaccineDto
    controller -> vaccineStore : vaccine = findVaccineById(id)
    activate vaccineStore
    deactivate vaccineStore
    controller -> nurseSession : vaccinationCenter = getVaccinationCenter()
    activate nurseSession
    deactivate nurseSession
    controller -> vaccineAdministrationList : vaccineAdministration = createVaccineAdministration(snsUser, vaccine, lotNumber, doseNumber, vaccinationCenter, date)
    note left
      date represents a Calendar object
      containing the current date and time
    end note
    activate vaccineAdministrationList
      vaccineAdministrationList -> vaccineAdministration** : create(snsUser, vaccine, lotNumber, doseNumber, vaccinationCenter, date)
    deactivate vaccineAdministrationList
    controller -> vaccineAdministrationList : validateVaccineAdministration(vaccineAdministration)
    ref over vaccineAdministrationList
      Steps for validating the vaccine administration
      are specified in US08_ValidateVaccineAdministrationSD
    end ref
  deactivate controller
  ui - -> nurse : shows all data and requests confirmation
deactivate ui

nurse -> ui : confirms the data

activate ui
  ui -> controller : save()
  activate controller 
    controller -> vaccineAdministrationList : saveVaccineAdministration(vaccineAdministration)
    ref over vaccineAdministrationList
      Steps for saving the vaccine administration
      are specified in US08_SaveVaccineAdministrationSD
    end ref
  deactivate controller
  ui - -> nurse: informs operation success
deactivate ui

deactivate nurse
@enduml

PlantUML version 1.2022.6beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>