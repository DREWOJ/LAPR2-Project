@startuml US10_SD
autonumber
'hide footbox
actor "Admininistrator" as admin

participant ":CreateEmployeeUi" as empUi
participant ":CreateEmployeeController" as empController
participant "role\n:Role" as role
participant "comp\n:Company" as comp
participant ":Employee" as emp

activate admin
admin -> empUi : asks to create a new employee
activate empUi
empUi --> admin : requests data (name, email, password)
deactivate empUi

admin -> empUi : types requested data
activate empUi

empUi -> empController : roleList=getEmployeeRoles()
activate empController

empController -> comp : roleList=getEmployeeRoles()
activate comp
' |||
deactivate comp
deactivate empController

empUi --> admin : shows user roles list and asks to select one
deactivate empUi

admin -> empUi : selects a user role
activate empUi

empUi -> empController : createEmployee(name, email, password, roleId)
activate empController

empController -> comp : role=getRoleById(roleId)
activate comp
' |||
deactivate comp

empController -> comp: employee=createEmployee(name, email, password, role)
activate comp

comp --> emp**: create(name, email, password, role)
comp -> comp: validateEmployee(employee)
empUi --> admin: shows all data and requests confirmation
deactivate comp
deactivate empController
deactivate empUi

admin -> empUi : confirms the data
activate empUi
empUi -> empController : saveTask()
activate empController

empController -> ORG : saveTask(task)
activate ORG

ORG -> ORG: validateTask(task)
ORG -> ORG: addTask(task)

empController --> empUi: result

empUi --> admin : informs operation success
deactivate ORG
deactivate empController
deactivate empUi

deactivate admin

@enduml