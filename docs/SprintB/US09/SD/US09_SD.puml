@startuml US09_SD
autonumber
actor "Administrator" as ADM

participant ":VaccinationCenterUI" as UI
participant ":VaccinationCenterController" as CTRL
participant "comp\n:Company" as COMP
participant "store\n:VaccinationCenterStore" as VACSTORE
participant "store\n:Employee" as EMP
participant "center\n:VaccinationCenter" as CENTER

activate ADM
ADM -> UI : asks to create a new vaccination center
activate UI

UI --> ADM : requests data (name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot)
deactivate UI

ADM -> UI : types requested data
activate UI

UI -> CTRL : createVaccinationCenter(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot)
activate CTRL

CTRL -> COMP : vacStore = getVaccinationCenterStore()
activate COMP
deactivate COMP

CTRL -> VACSTORE : center=createVaccinationCenter(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot)
activate VACSTORE

VACSTORE -> CENTER** : create(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot,coordinator)
deactivate VACSTORE

CTRL -> VACSTORE : validateVaccinationCenter(center)
activate VACSTORE
deactivate VACSTORE

deactivate CTRL

UI --> CTRL : coordinators=getCoordinators()
activate CTRL

CTRL --> COMP : empStore=getEmployeeStore()
activate COMP
deactivate COMP

CTRL --> EMP : coordinator=getCoordinators()
activate EMP
deactivate EMP

UI --> ADM : shows all available center coordinators and asks to select one
deactivate UI

UI -> CTRL : coordinator=getEmployeeByRoleId(coodinatorId)
activate CTRL

CTRL -> EMP : coordinator=getEmployeeByRoleId(coodinatorId)
activate EMP
deactivate CTRL
deactivate EMP

ADM -> UI : selects one center coordinator
activate UI

UI -> CTRL : center=createVaccinationCenter(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot,coordinator)
activate CTRL

CTRL-> VACSTORE : center=createVaccinationCenter(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot,coordinator)
activate VACSTORE





UI --> ADM: shows all data and requests confirmation
deactivate VACSTORE
deactivate CTRL
deactivate UI

ADM -> UI : confirms the vaccinationCenter data
activate UI
UI -> CTRL : saveVaccinationCenter(center)
activate CTRL

CTRL -> VACSTORE : saveVaccinationCenter(center)
activate VACSTORE

VACSTORE -> VACSTORE : validateVaccinationCenter(center)
activate VACSTORE
deactivate VACSTORE

VACSTORE -> VACSTORE : addVaccinationCenter(center)
activate VACSTORE
deactivate VACSTORE

UI --> ADM : informs operation success
deactivate COMP
deactivate CTRL
deactivate UI

deactivate ADM

@enduml