@startuml US09_SD
autonumber
actor "Administrator" as ADM

participant ":VaccinationCenterUI" as UI
participant ":VaccinationCenterController" as CTRL
participant "comp\n:Company" as COMP

activate ADM
ADM -> UI : asks to create a new vaccination center
activate UI

UI -> CTRL : type=getCenterTypeList()
activate CTRL

CTRL-> COMP : type=getCenterTypeList()
activate COMP
deactivate CTRL
deactivate COMP

UI --> ADM : shows all available center type
deactivate UI

ADM -> UI : selects one center type
activate UI

UI -> CTRL : coordinator=getEmployeeByRoleId(coodinatorId)
activate CTRL

CTRL -> COMP : coordinator=getEmployeeByRoleId(coodinatorId)
activate COMP
deactivate COMP
deactivate CTRL

UI --> ADM : shows all available center coordinators and asks to select one
deactivate UI

ADM -> UI : selects one center coordinator
activate UI

UI --> ADM : requests data (name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot)
deactivate UI

ADM -> UI : types requested data
activate UI

UI -> CTRL : center=createVaccinationCenter(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot,coordinator)
activate CTRL

CTRL-> COMP : center=createVaccinationCenter(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot,coordinator)
activate COMP

create "center\n:VaccinationCenter" as CENTER
COMP -> CENTER : create(name,address,emailAddress,phoneNumber,faxNumber,websiteAddress,openingHours,closingHours,slotDuration,maximumVaccinesPerSlot,coordinator)
deactivate COMP

CTRL -> COMP: validateVaccinationCenter(center)
activate COMP
deactivate CTRL

UI --> ADM: shows all data and requests confirmation
deactivate COMP
deactivate CTRL
deactivate UI

ADM -> UI : confirms the vaccinationCenter data
activate UI
UI -> CTRL : saveVaccinationCenter(center)
activate CTRL

CTRL -> COMP : saveVaccinationCenter(center)
activate COMP

COMP -> COMP : validateVaccinationCenter(center)
COMP -> COMP : addVaccinationCenter(center)

UI --> ADM : informs operation success
deactivate COMP
deactivate CTRL
deactivate UI

deactivate ADM

@enduml