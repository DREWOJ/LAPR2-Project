@startuml
autonumber
'hide footbox
actor "Administrator" as ADM

participant ":ListEmployeeUI" as UI
participant ":ListEmployeeController" as CTRL
participant "comp\n:Company" as COMP
participant "employeeStore\n:EmployeeStore" as EMPS
participant "authFacade\n:AuthFacade" as AUTH
participant "emp:Employee" as EMP

activate ADM
ADM -> UI : asks to list employees for given role
activate UI
activate CTRL
UI -> CTRL : roleList=getEmployeeRoles()
CTRL -> COMP : authFacade=getAuthFacade()
activate COMP
deactivate COMP

CTRL -> AUTH : roleList=getUserRoles()
activate AUTH
|||
deactivate AUTH
deactivate CTRL

UI --> ADM : shows roles list and ask to select one
deactivate UI

ADM -> UI : selects an employee role
activate UI

UI -> CTRL : getEmployeesByRoleId(roleId)
activate CTRL

activate COMP
CTRL -> COMP: getEmployeesByRoleId(roleId)
create "lstEmp\n:List<Employee>" as LST
COMP --> LST

loop for each employee
  activate EMP
    COMP -> EMP: e=employee.roleId == roleId
    EMP --> COMP: true/false
  deactivate EMP
    alt e==true
        COMP -> LST: add(employee)
      activate LST
    end
end

COMP --> CTRL: lstEmp
deactivate LST
CTRL --> UI: lstEmp

deactivate COMP
deactivate CTRL
UI --> ADM : informs operation success
UI --> ADM: shows the list of employees
deactivate UI

deactivate UI
deactivate CTRL
deactivate ADM

@enduml
