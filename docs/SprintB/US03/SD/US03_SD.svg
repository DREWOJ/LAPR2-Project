<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1382px" preserveAspectRatio="none" style="width:1951px;height:1382px;background:#FFFFFF;" version="1.1" viewBox="0 0 1951 1382" width="1951px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jto7aqumdpm5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="1181.7813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="46.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="652.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="486.7891" style="stroke:#A80036;stroke-width:1.0;" width="10" x="652.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="586.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="652.5" y="693.6172"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="421.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="957.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="528.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="957.5" y="722.75"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="295.0938"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="242.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="385.8203"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184.5" y="600.3516"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="499.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="751.8828"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184.5" y="789.0156"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184.5" y="1156.8125"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1395.5" y="235.9609"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1395.5" y="474.0859"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1395.5" y="1030.5469"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1491" y="414.9531"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1491" y="853.1484"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1491" y="912.2813"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1622.5" y="971.4141"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1767" y="1220.9453"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1884" y="533.2188"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1884" y="1089.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="657.5" x2="657.5" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="962.5" x2="962.5" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1184.5" x2="1184.5" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1400.5" x2="1400.5" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1495.5" x2="1495.5" y1="343.8906" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1627.5" x2="1627.5" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1771.5" x2="1771.5" y1="88.2969" y2="1298.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1888.5" x2="1888.5" y1="88.2969" y2="1298.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="5" y="84.9951">Receptionist</text><ellipse cx="51.5" cy="15" fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,23 L51.5,50 M38.5,31 L64.5,31 M51.5,50 L38.5,65 M51.5,50 L64.5,65 " fill="none" filter="url(#f1jto7aqumdpm5)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="5" y="1310.0732">Receptionist</text><ellipse cx="51.5" cy="1323.375" fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,1331.375 L51.5,1358.375 M38.5,1339.375 L64.5,1339.375 M51.5,1358.375 L38.5,1373.375 M51.5,1358.375 L64.5,1373.375 " fill="none" filter="url(#f1jto7aqumdpm5)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="150" x="580.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="587.5" y="72.9951">:RegisterSNSUserUI</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="150" x="580.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="587.5" y="1317.0732">:RegisterSNSUserUI</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="204" x="858.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="865.5" y="72.9951">:RegisterSNSUserController</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="204" x="858.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="865.5" y="1317.0732">:RegisterSNSUserController</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1124.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1164.5" y="56.6982">store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1131.5" y="72.9951">:SNSUserStore</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1124.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1164.5" y="1317.0732">store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1131.5" y="1333.3701">:SNSUserStore</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="1356.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1379" y="56.6982">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1363.5" y="72.9951">:Company</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="84" x="1356.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1379" y="1317.0732">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1363.5" y="1333.3701">:Company</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="1454.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1474.5" y="1317.0732">suser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1461.5" y="1333.3701">:SNSUser</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="1547.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1554.5" y="72.9951">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="1547.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1554.5" y="1317.0732">:PasswordGenerator</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="105" x="1717.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1724.5" y="72.9951">:EmailSender</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="105" x="1717.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1724.5" y="1317.0732">:EmailSender</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="101" x="1836.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="1871.5" y="56.6982">auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1843.5" y="72.9951">:AuthFacade</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="101" x="1836.5" y="1297.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="1871.5" y="1317.0732">auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1843.5" y="1333.3701">:AuthFacade</text><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="1181.7813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="46.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="652.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="486.7891" style="stroke:#A80036;stroke-width:1.0;" width="10" x="652.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="586.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="652.5" y="693.6172"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="421.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="957.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="528.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="957.5" y="722.75"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="295.0938"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="242.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="385.8203"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184.5" y="600.3516"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="499.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="751.8828"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184.5" y="789.0156"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184.5" y="1156.8125"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1395.5" y="235.9609"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1395.5" y="474.0859"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1395.5" y="1030.5469"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1491" y="414.9531"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1491" y="853.1484"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1491" y="912.2813"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1622.5" y="971.4141"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1767" y="1220.9453"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1884" y="533.2188"/><rect fill="#FFFFFF" filter="url(#f1jto7aqumdpm5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1884" y="1089.6797"/><polygon fill="#A80036" points="640.5,115.4297,650.5,119.4297,640.5,123.4297,644.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56.5" x2="646.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="63.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="76.5" y="114.3638">starts to register a new SNS User</text><polygon fill="#A80036" points="67.5,144.5625,57.5,148.5625,67.5,152.5625,63.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="656.5" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="73.5" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="559" x="86.5" y="143.4966">requests data (citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email)</text><polygon fill="#A80036" points="640.5,173.6953,650.5,177.6953,640.5,181.6953,644.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56.5" x2="646.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="63.5" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="76.5" y="172.6294">types requested data</text><polygon fill="#A80036" points="945.5,202.8281,955.5,206.8281,945.5,210.8281,949.5,206.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662.5" x2="951.5" y1="206.8281" y2="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="669.5" y="201.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="682.5" y="201.7622">snsUser = createSNSUser(snsUserData)</text><polygon fill="#A80036" points="1383.5,231.9609,1393.5,235.9609,1383.5,239.9609,1387.5,235.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="967.5" x2="1389.5" y1="235.9609" y2="235.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="974.5" y="230.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="987.5" y="230.895">store = getSNSUserStore()</text><polygon fill="#A80036" points="1167.5,291.0938,1177.5,295.0938,1167.5,299.0938,1171.5,295.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="967.5" x2="1173.5" y1="295.0938" y2="295.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="974.5" y="290.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="987.5" y="290.0278">snsUser = createSNSUser()</text><polygon fill="#A80036" points="1442.5,320.2266,1452.5,324.2266,1442.5,328.2266,1446.5,324.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1184.5" x2="1448.5" y1="324.2266" y2="324.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1191.5" y="319.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1204.5" y="319.1606">createSNSUser()</text><rect fill="#FEFECE" filter="url(#f1jto7aqumdpm5)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="1454.5" y="303.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1474.5" y="323.0889">suser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1461.5" y="339.3857">:SNSUser</text><polygon fill="#A80036" points="1167.5,381.8203,1177.5,385.8203,1167.5,389.8203,1171.5,385.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="967.5" x2="1173.5" y1="385.8203" y2="385.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="974.5" y="380.7544">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="987.5" y="380.7544">validateSNSUser(snsUser)</text><polygon fill="#A80036" points="1479,410.9531,1489,414.9531,1479,418.9531,1483,414.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1485" y1="414.9531" y2="414.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1196.5" y="409.8872">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1209.5" y="409.8872">email = getEmail(snsUser)</text><polygon fill="#A80036" points="1383.5,470.0859,1393.5,474.0859,1383.5,478.0859,1387.5,474.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1389.5" y1="474.0859" y2="474.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="469.02">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1218.5" y="469.02">auth = getAuthFacade()</text><polygon fill="#A80036" points="1872,529.2188,1882,533.2188,1872,537.2188,1876,533.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1878" y1="533.2188" y2="533.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="528.1528">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1218.5" y="528.1528">existsUser(email)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194.5" x2="1236.5" y1="592.3516" y2="592.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1236.5" x2="1236.5" y1="592.3516" y2="605.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1195.5" x2="1236.5" y1="605.3516" y2="605.3516"/><polygon fill="#A80036" points="1205.5,601.3516,1195.5,605.3516,1205.5,609.3516,1201.5,605.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1201.5" y="587.2856">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="1223.5" y="587.2856">checkDuplicates(snsUser)</text><polygon fill="#A80036" points="67.5,660.4844,57.5,664.4844,67.5,668.4844,63.5,664.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="656.5" y1="664.4844" y2="664.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="73.5" y="659.4185">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="95.5" y="659.4185">shows data and asks for confirmation</text><polygon fill="#A80036" points="640.5,689.6172,650.5,693.6172,640.5,697.6172,644.5,693.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="646.5" y1="693.6172" y2="693.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="63.5" y="688.5513">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="85.5" y="688.5513">confirms the data</text><polygon fill="#A80036" points="945.5,718.75,955.5,722.75,945.5,726.75,949.5,722.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662.5" x2="951.5" y1="722.75" y2="722.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="669.5" y="717.6841">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="691.5" y="717.6841">saveSNSUser()</text><polygon fill="#A80036" points="1167.5,747.8828,1177.5,751.8828,1167.5,755.8828,1171.5,751.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="967.5" x2="1173.5" y1="751.8828" y2="751.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="974.5" y="746.8169">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="996.5" y="746.8169">saveSNSUser(snsUser)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194.5" x2="1236.5" y1="781.0156" y2="781.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1236.5" x2="1236.5" y1="781.0156" y2="794.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1195.5" x2="1236.5" y1="794.0156" y2="794.0156"/><polygon fill="#A80036" points="1205.5,790.0156,1195.5,794.0156,1205.5,798.0156,1201.5,794.0156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1201.5" y="775.9497">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1223.5" y="775.9497">validateSNSUser(snsUser)</text><polygon fill="#A80036" points="1479,849.1484,1489,853.1484,1479,857.1484,1483,853.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1485" y1="853.1484" y2="853.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="848.0825">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="1218.5" y="848.0825">name = snsUser.getName()</text><polygon fill="#A80036" points="1479,908.2813,1489,912.2813,1479,916.2813,1483,912.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1485" y1="912.2813" y2="912.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="907.2153">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1218.5" y="907.2153">email = snsUser.getEmail()</text><polygon fill="#A80036" points="1610.5,967.4141,1620.5,971.4141,1610.5,975.4141,1614.5,971.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1616.5" y1="971.4141" y2="971.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="966.3481">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1218.5" y="966.3481">pwd = generatePwd()</text><polygon fill="#A80036" points="1383.5,1026.5469,1393.5,1030.5469,1383.5,1034.5469,1387.5,1030.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1389.5" y1="1030.5469" y2="1030.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="1025.481">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1218.5" y="1025.481">auth = getAuthFacade()</text><polygon fill="#A80036" points="1872,1085.6797,1882,1089.6797,1872,1093.6797,1876,1089.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1878" y1="1089.6797" y2="1089.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="1084.6138">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="1218.5" y="1084.6138">addUser(name, email, pwd, "SNS_USER")</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194.5" x2="1236.5" y1="1148.8125" y2="1148.8125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1236.5" x2="1236.5" y1="1148.8125" y2="1161.8125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1195.5" x2="1236.5" y1="1161.8125" y2="1161.8125"/><polygon fill="#A80036" points="1205.5,1157.8125,1195.5,1161.8125,1205.5,1165.8125,1201.5,1161.8125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1201.5" y="1143.7466">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1223.5" y="1143.7466">addSNSUser(snsUser)</text><polygon fill="#A80036" points="1755,1216.9453,1765,1220.9453,1755,1224.9453,1759,1220.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1189.5" x2="1761" y1="1220.9453" y2="1220.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1196.5" y="1215.8794">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1218.5" y="1215.8794">sendPasswordEmail(email, pwd)</text><polygon fill="#A80036" points="62.5,1276.0781,52.5,1280.0781,62.5,1284.0781,58.5,1280.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="656.5" y1="1280.0781" y2="1280.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="68.5" y="1275.0122">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="90.5" y="1275.0122">informs operation success</text><!--MD5=[7faaa5d7b896413fe889ddb367d6d66c]
@startuml Sequence Diagram
autonumber
'hide footbox
actor "Receptionist" as RECEPT

participant ":RegisterSNSUserUI" as UI
participant ":RegisterSNSUserController" as CTRL
participant "store\n:SNSUserStore" as STORE
participant "comp\n:Company" as COMP
participant "suser\n:SNSUser" as SUSER
participant ":PasswordGenerator" as PWDGEN
participant ":EmailSender" as EMAIL
participant "auth\n:AuthFacade" as AUTH

activate RECEPT
RECEPT -> UI : starts to register a new SNS User
activate UI
UI - -> RECEPT : requests data (citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email)
deactivate UI

RECEPT -> UI : types requested data
activate UI

UI - -> CTRL : snsUser = createSNSUser(snsUserData)
activate CTRL

CTRL - -> COMP : store = getSNSUserStore()
activate COMP
deactivate COMP

CTRL - -> STORE : snsUser = createSNSUser()
activate STORE

STORE - -> SUSER** : createSNSUser()

deactivate STORE

CTRL - -> STORE : validateSNSUser(snsUser)
activate STORE

STORE - -> SUSER : email = getEmail(snsUser)
activate SUSER
deactivate SUSER

STORE - -> COMP : auth = getAuthFacade()
activate COMP
deactivate COMP

STORE - -> AUTH : existsUser(email)
activate AUTH
deactivate AUTH

STORE - -> STORE : checkDuplicates(snsUser)
activate STORE
deactivate STORE

deactivate STORE
deactivate CTRL

UI - -> RECEPT : shows data and asks for confirmation
deactivate UI


RECEPT - -> UI : confirms the data
activate UI

UI - -> CTRL : saveSNSUser()
activate CTRL

CTRL - -> STORE : saveSNSUser(snsUser)
activate STORE

STORE - -> STORE : validateSNSUser(snsUser)
activate STORE
deactivate STORE

STORE - -> SUSER : name = snsUser.getName()
activate SUSER
deactivate SUSER

STORE - -> SUSER : email = snsUser.getEmail()
activate SUSER
deactivate SUSER

STORE - -> PWDGEN : pwd = generatePwd()
activate PWDGEN
deactivate PWDGEN

STORE - -> COMP : auth = getAuthFacade()
activate COMP
deactivate COMP

STORE - -> AUTH : addUser(name, email, pwd, "SNS_USER")
activate AUTH
deactivate AUTH

STORE - -> STORE : addSNSUser(snsUser)
activate STORE
deactivate STORE

STORE - -> EMAIL : sendPasswordEmail(email, pwd)
activate EMAIL
deactivate EMAIL

deactivate STORE
deactivate CTRL

UI - -> RECEPT : informs operation success
deactivate UI

deactivate RECEPT

@enduml

@startuml Sequence Diagram
autonumber
actor "Receptionist" as RECEPT

participant ":RegisterSNSUserUI" as UI
participant ":RegisterSNSUserController" as CTRL
participant "store\n:SNSUserStore" as STORE
participant "comp\n:Company" as COMP
participant "suser\n:SNSUser" as SUSER
participant ":PasswordGenerator" as PWDGEN
participant ":EmailSender" as EMAIL
participant "auth\n:AuthFacade" as AUTH

activate RECEPT
RECEPT -> UI : starts to register a new SNS User
activate UI
UI - -> RECEPT : requests data (citizenCard, snsNumber, name, birthDay, gender, phoneNumber, email)
deactivate UI

RECEPT -> UI : types requested data
activate UI

UI - -> CTRL : snsUser = createSNSUser(snsUserData)
activate CTRL

CTRL - -> COMP : store = getSNSUserStore()
activate COMP
deactivate COMP

CTRL - -> STORE : snsUser = createSNSUser()
activate STORE

STORE - -> SUSER** : createSNSUser()

deactivate STORE

CTRL - -> STORE : validateSNSUser(snsUser)
activate STORE

STORE - -> SUSER : email = getEmail(snsUser)
activate SUSER
deactivate SUSER

STORE - -> COMP : auth = getAuthFacade()
activate COMP
deactivate COMP

STORE - -> AUTH : existsUser(email)
activate AUTH
deactivate AUTH

STORE - -> STORE : checkDuplicates(snsUser)
activate STORE
deactivate STORE

deactivate STORE
deactivate CTRL

UI - -> RECEPT : shows data and asks for confirmation
deactivate UI


RECEPT - -> UI : confirms the data
activate UI

UI - -> CTRL : saveSNSUser()
activate CTRL

CTRL - -> STORE : saveSNSUser(snsUser)
activate STORE

STORE - -> STORE : validateSNSUser(snsUser)
activate STORE
deactivate STORE

STORE - -> SUSER : name = snsUser.getName()
activate SUSER
deactivate SUSER

STORE - -> SUSER : email = snsUser.getEmail()
activate SUSER
deactivate SUSER

STORE - -> PWDGEN : pwd = generatePwd()
activate PWDGEN
deactivate PWDGEN

STORE - -> COMP : auth = getAuthFacade()
activate COMP
deactivate COMP

STORE - -> AUTH : addUser(name, email, pwd, "SNS_USER")
activate AUTH
deactivate AUTH

STORE - -> STORE : addSNSUser(snsUser)
activate STORE
deactivate STORE

STORE - -> EMAIL : sendPasswordEmail(email, pwd)
activate EMAIL
deactivate EMAIL

deactivate STORE
deactivate CTRL

UI - -> RECEPT : informs operation success
deactivate UI

deactivate RECEPT

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>